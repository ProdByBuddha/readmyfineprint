ğŸš€ Starting Production Endpoint Testing Suite
ğŸ“ Testing against: http://localhost:3000
ğŸ“ Staging URL: https://edcf3ef7-a826-4eed-8e04-7a485b2e183a-00-1wytaob2mj6u8.kirk.replit.dev:5000

ğŸŒ Testing environment: http://localhost:3000

ğŸ” Setting up admin authentication...

âŒ Environment setup failed for http://localhost:3000: Admin authentication failed: connect ECONNREFUSED 127.0.0.1:3000

ğŸŒ Testing environment: https://edcf3ef7-a826-4eed-8e04-7a485b2e183a-00-1wytaob2mj6u8.kirk.replit.dev:5000

ğŸ” Setting up admin authentication...
âœ… Admin authentication successful

ğŸ’³ Setting up subscriber authentication...
âš ï¸  Subscriber auth simulation - would need real Stripe integration

ğŸ†“ Setting up free user authentication...
âš ï¸  Free user auth simulation - would need user creation flow

ğŸ“‹ Running Public Endpoint Tests...

ğŸ§ª Testing: Public Homepage
âœ… PASSED: Public Homepage

ğŸ§ª Testing: Health Check
âœ… PASSED: Health Check

ğŸ§ª Testing: CSRF Token
âœ… PASSED: CSRF Token

ğŸ“‹ Running Authentication Tests...

ğŸ§ª Testing: Subscription Check (Unauthenticated)
âœ… PASSED: Subscription Check (Unauthenticated)

ğŸ§ª Testing: Admin Subscription Check
âœ… PASSED: Admin Subscription Check

ğŸ“‹ Running Admin Endpoint Tests...

ğŸ§ª Testing: Admin Metrics
âŒ FAILED: Admin Metrics - Expected 200, got 401

ğŸ§ª Testing: Admin System Health
âŒ FAILED: Admin System Health - Expected 200, got 401

ğŸ§ª Testing: Admin Activity Stats
âŒ FAILED: Admin Activity Stats - Expected 200, got 401

ğŸ§ª Testing: Blog Admin Posts
âœ… PASSED: Blog Admin Posts

ğŸ§ª Testing: Blog Admin Topics
âœ… PASSED: Blog Admin Topics

ğŸ§ª Testing: Blog Admin Scheduler Status
âœ… PASSED: Blog Admin Scheduler Status

ğŸ“‹ Running Document Analysis Tests...

ğŸ§ª Testing: Document Analysis (Unauthenticated)
âœ… PASSED: Document Analysis (Unauthenticated)

ğŸ§ª Testing: Document Analysis (Admin)
âœ… PASSED: Document Analysis (Admin)

ğŸ“‹ Running Unauthorized Access Tests...

ğŸ§ª Testing: Admin Endpoints Without Auth
âœ… PASSED: Admin Endpoints Without Auth

ğŸ§ª Testing: Blog Admin Without Auth
âœ… PASSED: Blog Admin Without Auth

ğŸ“‹ Running Stripe Integration Tests...

ğŸ§ª Testing: Stripe Create Checkout Session
âœ… PASSED: Stripe Create Checkout Session

============================================================
ğŸ“Š PRODUCTION TEST RESULTS
============================================================
âœ… Passed: 13
âŒ Failed: 3
ğŸ“ Total:  16

ğŸ” FAILURE DETAILS:
1. Admin Metrics: Expected 200, got 401
2. Admin System Health: Expected 200, got 401
3. Admin Activity Stats: Expected 200, got 401

ğŸ“ˆ Success Rate: 81.3%

âš ï¸  Some tests failed. Review failures before production deployment.
