 [SECURITY] API_ACCESS | LOW | 3695dcc5 | Processing donation payment for $5.00 | /api/process-donation | {"amount":5}
Payment processing failed: StripeInvalidRequestError: Sending credit card numbers directly to the Stripe API is generally unsafe. To continue processing use Stripe.js, the Stripe mobile bindings, or Stripe Elements. For more information, see https://dashboard.stripe.com/account/integration/settings. If you are qualified to handle card data directly, see https://support.stripe.com/questions/enabling-access-to-raw-card-data-apis.
    at generateV1Error (file:///home/runner/workspace/node_modules/stripe/esm/Error.js:8:20)
    at res.toJSON.then.StripeAPIError.message (file:///home/runner/workspace/node_modules/stripe/esm/RequestSender.js:105:31)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  type: 'StripeInvalidRequestError',
  raw: {
    message: 'Sending credit card numbers directly to the Stripe API is generally unsafe. To continue processing use Stripe.js, the Stripe mobile bindings, or Stripe Elements. For more information, see https://dashboard.stripe.com/account/integration/settings. If you are qualified to handle card data directly, see https://support.stripe.com/questions/enabling-access-to-raw-card-data-apis.',
    request_log_url: 'https://dashboard.stripe.com/logs/req_OmZi4Cy7q7ns8T?t=1749679595',
    type: 'invalid_request_error',
    headers: {
      server: 'nginx',
      date: 'Wed, 11 Jun 2025 22:06:35 GMT',
      'content-type': 'application/json',
      'content-length': '545',
      connection: 'keep-alive',
      'access-control-allow-credentials': 'true',
      'access-control-allow-methods': 'GET, HEAD, PUT, PATCH, POST, DELETE',
      'access-control-allow-origin': '*',
      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',
      'access-control-max-age': '300',
      'cache-control': 'no-cache, no-store',
      'content-security-policy': "base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; worker-src 'none'; upgrade-insecure-requests; report-uri https://q.stripe.com/csp-violation?q=Dw98a-D7eKln2MYJYAZPXavbSr5gjKr3t_18IUYSRG4u4KI32dfD0mqaH1BP3cxJY-8o2GgcxES86X5s",
      'idempotency-key': 'stripe-node-retry-1d603547-cc95-4521-80b9-b82eb932c93a',
      'original-request': 'req_OmZi4Cy7q7ns8T',
      'request-id': 'req_OmZi4Cy7q7ns8T',
      'stripe-should-retry': 'false',
      'stripe-version': '2025-05-28.basil',
      vary: 'Origin',
      'x-stripe-priority-routing-enabled': 'true',
      'x-stripe-routing-context-priority-tier': 'livemode-critical',
      'x-wc': 'ABGHI',
      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'
    },
    statusCode: 402,
    requestId: 'req_OmZi4Cy7q7ns8T'
  },
  rawType: 'invalid_request_error',
  code: undefined,
  doc_url: undefined,
  param: undefined,
  detail: undefined,
  headers: {
    server: 'nginx',
    date: 'Wed, 11 Jun 2025 22:06:35 GMT',
    'content-type': 'application/json',
    'content-length': '545',
    connection: 'keep-alive',
    'access-control-allow-credentials': 'true',
    'access-control-allow-methods': 'GET, HEAD, PUT, PATCH, POST, DELETE',
    'access-control-allow-origin': '*',
    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',
    'access-control-max-age': '300',
    'cache-control': 'no-cache, no-store',
    'content-security-policy': "base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; worker-src 'none'; upgrade-insecure-requests; report-uri https://q.stripe.com/csp-violation?q=Dw98a-D7eKln2MYJYAZPXavbSr5gjKr3t_18IUYSRG4u4KI32dfD0mqaH1BP3cxJY-8o2GgcxES86X5s",
    'idempotency-key': 'stripe-node-retry-1d603547-cc95-4521-80b9-b82eb932c93a',
    'original-request': 'req_OmZi4Cy7q7ns8T',
    'request-id': 'req_OmZi4Cy7q7ns8T',
    'stripe-should-retry': 'false',
    'stripe-version': '2025-05-28.basil',
    vary: 'Origin',
    'x-stripe-priority-routing-enabled': 'true',
    'x-stripe-routing-context-priority-tier': 'livemode-critical',
    'x-wc': 'ABGHI',
    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'
  },
  requestId: 'req_OmZi4Cy7q7ns8T',
  statusCode: 402,
  userMessage: undefined,
  charge: undefined,
  decline_code: undefined,
  payment_intent: undefined,
  payment_method: undefined,
  payment_method_type: undefined,
  setup_intent: undefined,
  source: undefined
}
⚠️ [SECURITY] API_ACCESS | HIGH | 3695dcc5 | Payment processing failed: Sending credit card numbers directly to the Stripe API is generally unsafe. To continue processing use Stripe.js, the Stripe mobile bindings, or Stripe Elements. For more information, see https://dashboard.stripe.com/account/integration/settings. If you are qualified to handle card data directly, see https://support.stripe.com/questions/enabling-access-to-raw-card-data-apis. | /api/process-donation | {"error":"Sending credit card numbers directly to the Stripe API is generally unsafe. To continue processing use Stripe.js, the Stripe mobile bindings, or Stripe Elements. For more information, see https://dashboard.stripe.com/account/integration/settings. If you are qualified to handle card data directly, see https://support.stripe.com/questions/enabling-access-to-raw-card-data-apis."}
10:06:35 PM [express] POST /api/process-donation 400 in 186ms :: {"error":"Payment processing failed.…