# ReadMyFinePrint Environment Configuration
# Copy this file to .env and fill in your values
# DO NOT commit the .env file to version control

# Required for OpenAI document analysis
OPENAI_API_KEY=sk-your-openai-api-key-here

# Required for Stripe payment processing
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key-here
VITE_STRIPE_PUBLIC_KEY=pk_test_your-stripe-publishable-key-here

# Optional: Stripe webhook secret for payment confirmations (recommended for production)
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret-here

# REQUIRED SECURITY KEYS - Generate with: openssl rand -hex 64 (enhanced)
# These are now REQUIRED for security (minimum 64 characters for enhanced security)

# Admin API key for protected endpoints (REQUIRED - minimum 32 chars)
ADMIN_API_KEY=your-secure-admin-key-minimum-32-characters-long

# JWT secret for token signing (REQUIRED - minimum 64 chars for enhanced security)
# This is the primary secret for JWT token generation and validation
JWT_SECRET=your-jwt-secret-minimum-64-characters-long-random-string-for-enhanced-security

# NEW: Versioned JWT secret for enhanced rotation support (OPTIONAL but recommended)
# If provided, this takes precedence over JWT_SECRET for new tokens
JWT_SECRET_V2=your-new-versioned-jwt-secret-minimum-64-characters-long-random-string

# Token encryption key for subscription tokens (REQUIRED - minimum 64 chars)
TOKEN_ENCRYPTION_KEY=your-token-encryption-key-minimum-64-characters-long-random-string

# Password pepper for enhanced security (REQUIRED - minimum 32 chars)
PASSWORD_PEPPER=your-password-pepper-minimum-32-characters-long

# Optional: Session encryption key for session data (minimum 32 chars if provided)
SESSION_ENCRYPTION_KEY=your-session-encryption-key-minimum-32-characters

# NEW: JWT Token rotation settings (OPTIONAL - defaults apply if not set)
# JWT_ROTATION_DAYS=30  # Days before secret rotation (default: 30)
# JWT_MAX_REFRESH_TOKENS_PER_USER=5  # Max concurrent sessions (default: 5)

# Optional: Allowed CORS origins (comma-separated)
# Default includes common development ports
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000,http://localhost:5000,https://yourdomain.com

# Optional: Node environment
NODE_ENV=development

# Example production values:
# NODE_ENV=production
# ALLOWED_ORIGINS=https://readmyfineprint.com,https://app.readmyfineprint.com
# ADMIN_API_KEY=super-secure-random-string-at-least-32-chars-long-generated-with-openssl
# JWT_SECRET=another-super-secure-random-string-at-least-32-chars-long
# TOKEN_ENCRYPTION_KEY=yet-another-super-secure-random-string-32-chars-minimum
# PASSWORD_PEPPER=one-more-super-secure-random-string-32-chars-minimum
# STRIPE_SECRET_KEY=sk_live_your-live-stripe-secret-key
# VITE_STRIPE_PUBLIC_KEY=pk_live_your-live-stripe-publishable-key
# STRIPE_WEBHOOK_SECRET=whsec_your-live-webhook-secret

# Optional: Default recipient for donations without customer email
DEFAULT_DONATION_EMAIL=your-email@example.com

# IndexNow Configuration
INDEXNOW_KEY=e3d1f7b82a904bd19f450d1e76c48a27
BASE_HOST=readmyfineprint.com

# Optional: Security webhook URL for external monitoring
SECURITY_WEBHOOK_URL=https://your-monitoring-service.com/webhook

# Optional: Replit Database URL (auto-provided in Replit environment)
REPLIT_DB_URL=your-replit-db-url-here

# NFT.Storage IPFS deployment
# Get your API key from: https://nft.storage/manage/
NFT_STORAGE_API_KEY=your-nft-storage-api-key-here

# Database Configuration
# Primary database (Neon) - Required if not using fallback mode
DATABASE_URL=postgresql://user:password@host/database?sslmode=require

# Local database for fallback mode (Optional)
# Used when USE_DB_FALLBACK=true or NODE_ENV=development
LOCAL_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/readmyfineprint

# Enable database fallback mode (auto-enabled in development)
# USE_DB_FALLBACK=true