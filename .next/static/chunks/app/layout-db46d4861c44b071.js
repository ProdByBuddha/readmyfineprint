(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{19010:(e,t,a)=>{"use strict";a.d(t,{Footer:()=>u});var r=a(95155),s=a(6874),i=a.n(s),n=a(94454),o=a(51976),l=a(66516),c=a(16785),d=a(53580);function u(){let{toast:e}=(0,d.dj)(),t=async()=>{let t="https://readmyfineprint.com/";try{await navigator.clipboard.writeText(t),e({title:"Link copied!",description:"Website URL has been copied to your clipboard.",duration:3e3})}catch(r){let a=document.createElement("textarea");a.value=t,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),e({title:"Link copied!",description:"Website URL has been copied to your clipboard.",duration:3e3})}};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("footer",{id:"footer",role:"contentinfo",className:"bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 z-40 backdrop-blur-sm bg-opacity-95 dark:bg-opacity-95 transition-all duration-300 ease-in-out flex-shrink-0","aria-label":"Site footer",children:[(0,r.jsx)("div",{className:"md:hidden px-3 py-2 sm:px-4",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:["\xa9 ",new Date().getFullYear()," ReadMyFinePrint"]}),(0,r.jsxs)("div",{className:"flex flex-wrap justify-center items-center gap-x-3 gap-y-1 text-xs",children:[(0,r.jsx)(i(),{href:"/privacy",className:"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors py-1.5 px-1 min-h-[44px] flex items-center touch-manipulation","aria-label":"Privacy Policy",children:"Privacy"}),(0,r.jsx)(i(),{href:"/terms",className:"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors py-1.5 px-1 min-h-[44px] flex items-center touch-manipulation","aria-label":"Terms of Service",children:"Terms"}),(0,r.jsxs)(i(),{href:"/cookies",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 flex items-center gap-1 transition-colors py-1.5 px-1 min-h-[44px] touch-manipulation","aria-label":"Cookie Policy",children:[(0,r.jsx)(n.A,{className:"w-3 h-3","aria-hidden":"true"}),"Cookies"]}),(0,r.jsxs)(i(),{href:"/donate",className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 flex items-center gap-1 transition-colors py-1.5 px-1 min-h-[44px] touch-manipulation","aria-label":"Support us with a donation",children:[(0,r.jsx)(o.A,{className:"w-3 h-3","aria-hidden":"true"}),"Donate"]}),(0,r.jsxs)("button",{onClick:t,className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 flex items-center gap-1 transition-colors py-1.5 px-1 min-h-[44px] touch-manipulation","aria-label":"Share this website",onTouchStart:()=>{},children:[(0,r.jsx)(l.A,{className:"w-3 h-3","aria-hidden":"true"}),"Share"]}),(0,r.jsx)("a",{href:"mailto:admin@readmyfineprint.com",className:"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors py-1.5 px-1 min-h-[44px] flex items-center touch-manipulation","aria-label":"Contact us via email",children:"Contact"})]})]})}),(0,r.jsx)("div",{className:"hidden md:block max-w-7xl mx-auto px-4 py-2 lg:py-1",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-2 md:gap-0",children:[(0,r.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-300 text-center md:text-left",children:["\xa9 ",new Date().getFullYear()," ReadMyFinePrint"]}),(0,r.jsxs)("div",{className:"flex flex-wrap justify-center md:justify-end items-center gap-x-4 gap-y-1 text-xs",children:[(0,r.jsx)(i(),{href:"/privacy",className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-all duration-300 ease-in-out py-1.5 px-1 touch-manipulation","aria-label":"Privacy Policy",children:"Privacy Policy"}),(0,r.jsx)(i(),{href:"/terms",className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-all duration-300 ease-in-out py-1.5 px-1 touch-manipulation","aria-label":"Terms of Service",children:"Terms of Service"}),(0,r.jsxs)(i(),{href:"/cookies",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 transition-all duration-300 ease-in-out inline-flex items-center py-1.5 px-1 touch-manipulation","aria-label":"Cookie Policy",children:[(0,r.jsx)(n.A,{className:"w-3 h-3 mr-1","aria-hidden":"true"}),"Cookies"]}),(0,r.jsxs)(i(),{href:"/donate",className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 transition-all duration-300 ease-in-out inline-flex items-center py-1.5 px-1 touch-manipulation","aria-label":"Support us with a donation",children:[(0,r.jsx)(o.A,{className:"w-3 h-3 mr-1","aria-hidden":"true"}),"Donate"]}),(0,r.jsxs)(i(),{href:"/roadmap",className:"text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 transition-all duration-300 ease-in-out inline-flex items-center py-1.5 px-1 touch-manipulation","aria-label":"View our roadmap",children:[(0,r.jsx)(c.A,{className:"w-3 h-3 mr-1","aria-hidden":"true"}),"Roadmap"]}),(0,r.jsxs)("button",{onClick:t,className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-all duration-300 ease-in-out inline-flex items-center py-1.5 px-1 touch-manipulation","aria-label":"Share this website",onTouchStart:()=>{},children:[(0,r.jsx)(l.A,{className:"w-3 h-3 mr-1","aria-hidden":"true"}),"Share"]}),(0,r.jsx)("a",{href:"mailto:admin@readmyfineprint.com",className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-all duration-300 ease-in-out py-1.5 px-1 touch-manipulation","aria-label":"Contact us via email",children:"Contact"})]})]})})]})})}},19324:()=>{},25562:(e,t,a)=>{"use strict";a.d(t,{ThemeProvider:()=>i});var r=a(95155);a(12115);var s=a(51362);function i(e){let{children:t,defaultTheme:a="system",enableSystem:i=!0,disableTransitionOnChange:n=!1}=e;return(0,r.jsx)(s.N,{attribute:"class",defaultTheme:a,enableSystem:i,disableTransitionOnChange:n,children:t})}},31981:(e,t,a)=>{"use strict";a.d(t,{Header:()=>z});var r=a(95155),s=a(12115),i=a(6874),n=a.n(i),o=a(35695),l=a(97168),c=a(17951),d=a(75525),u=a(5040),h=a(381),m=a(34835),x=a(51976),p=a(93509),g=a(62098),f=a(54416),b=a(74783),v=a(55411),y=a(53580),j=a(73309),w=a(74671),k=a(6069);let N=a(51362).D;var S=a(83119),T=a(89852),C=a(88482),A=a(49026),E=a(28883),P=a(85339),_=a(51154),I=a(70306);function D(){let e=localStorage.getItem("deviceFingerprint");if(e&&e.startsWith("fp_"))return e;let t=function(){try{var e;let t=["".concat(screen.width,"x").concat(screen.height),Intl.DateTimeFormat().resolvedOptions().timeZone,navigator.language,navigator.platform,(null==(e=navigator.userAgent.match(/(?:Chrome|Firefox|Safari|Edge)\/[\d.]+/))?void 0:e[0])||"unknown",function(){let e=document.createElement("canvas").getContext("2d");if(!e)return"no-canvas";let t="16px",a="mmmmmmmmmmlli";e.font="".concat(t," monospace");let r=e.measureText(a).width;return["Arial","Times","Courier","Helvetica","Georgia"].filter(s=>(e.font="".concat(t," ").concat(s,", monospace"),e.measureText(a).width!==r)).length.toString()}(),screen.colorDepth.toString()],a=btoa(t.join("|")).slice(0,32);return"fp_".concat(a)}catch(e){return console.warn("Could not generate device fingerprint:",e),"fp_unknown_".concat(Date.now())}}();return localStorage.setItem("deviceFingerprint",t),t}function L(e){let{onSuccess:t,onCancel:a}=e,[i,n]=(0,s.useState)("email"),[o,u]=(0,s.useState)(""),[h,m]=(0,s.useState)(""),[x,p]=(0,s.useState)(!1),[g,b]=(0,s.useState)(null),[v,y]=(0,s.useState)(null),[j,w]=(0,s.useState)(null),k=async e=>{if(e.preventDefault(),!o||!o.includes("@"))return void b("Please enter a valid email address");p(!0),b(null);try{let e=await fetch("/api/subscription/login/request-code",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-Device-Fingerprint":D()},body:JSON.stringify({email:o})}),r=await e.json();if(!e.ok){var t,a;404===e.status||(null==(t=r.error)?void 0:t.includes("No subscription found"))?b("No subscription found for this email address. Please check your email or subscribe first."):403===e.status||(null==(a=r.error)?void 0:a.includes("No active subscription"))?b("Your subscription is inactive or expired. You can still login to manage your account and renew your subscription."):429===e.status?b("Too many attempts. Please wait a few minutes before trying again."):b(r.error||"Unable to send verification code. Please try again or contact support.");return}r.success?(y(new Date(r.expiresAt)),n("verification"),console.log("Verification code sent to email")):b(r.error||"Failed to send verification code. Please try again.")}catch(e){console.error("Email verification request error:",e),e instanceof TypeError&&e.message.includes("Failed to fetch")?b("Network error. Please check your connection and try again."):b("An unexpected error occurred. Please try again or contact support.")}finally{p(!1)}},N=async e=>{if(e.preventDefault(),!h||6!==h.length)return void b("Please enter the 6-digit verification code");p(!0),b(null);try{let e,s=await fetch("/api/subscription/login/verify",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-Device-Fingerprint":D()},body:JSON.stringify({email:o,code:h})});if(!s.ok){let e;try{e=await s.json()}catch(e){throw console.error("Failed to parse error response:",e),Error("HTTP ".concat(s.status,": ").concat(s.statusText))}if("number"==typeof e.attemptsRemaining&&w(e.attemptsRemaining),400===s.status&&e.error)throw Error(e.error);if(429===s.status)throw Error("Too many verification attempts. Please request a new code.");if(s.status>=500)throw Error("Server error. Please try again in a moment.");else throw Error(e.error||"Verification failed (".concat(s.status,")"))}try{e=await s.json()}catch(e){throw console.error("Failed to parse success response:",e),Error("Invalid response from server. Please try again.")}if(e.success){var a,r;console.log("Successfully logged into subscription"),(null==(a=e.tokens)?void 0:a.access)&&(localStorage.setItem("jwt_access_token",e.tokens.access),localStorage.setItem("jwt_refresh_token",e.tokens.refresh),console.log("Stored JWT tokens for fallback authentication")),window.dispatchEvent(new CustomEvent("authStateChanged")),t((null==(r=e.tokens)?void 0:r.access)||"",e.subscription)}else throw Error(e.error||"Login failed")}catch(e){if(console.error("Verification error:",e),e instanceof TypeError&&e.message.includes("Failed to fetch"))b("Network connection failed. Please check your internet connection and try again.");else if(e instanceof Error){let t=e.message;e.message.includes("Invalid verification code")?t="The verification code you entered is incorrect. Please check and try again.":e.message.includes("expired")?t="Your verification code has expired. Please request a new one.":e.message.includes("Too many")?t="Too many incorrect attempts. Please request a new verification code.":e.message.includes("Network error")||e.message.includes("fetch")?t="Connection problem. Please check your internet and try again.":e.message.includes("Server error")||e.message.includes("500")?t="Our servers are experiencing issues. Please try again in a moment.":e.message&&"Error {}"!==e.message&&""!==e.message.trim()&&"[object Object]"!==e.toString()||(t="Verification failed. Please check your code and try again, or request a new verification code."),b(t)}else if("object"==typeof e&&null!==e){let t=JSON.stringify(e);"{}"===t||"null"===t?b("Verification failed. Please check your code and try again, or request a new verification code."):b("An unexpected error occurred. Please try entering the code again.")}else b("An unexpected error occurred. Please try again.")}finally{p(!1)}},S=()=>{n("email"),m(""),b(null),w(null),y(null)};return"email"===i?(0,r.jsxs)(C.Zp,{className:"w-full max-w-md mx-auto relative",children:[a&&(0,r.jsx)("button",{onClick:a,className:"absolute top-4 right-4 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors z-10","aria-label":"Close login modal",children:(0,r.jsx)(f.A,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"})}),(0,r.jsxs)(C.aR,{children:[(0,r.jsxs)(C.ZB,{className:"flex items-center space-x-2",children:[(0,r.jsx)(E.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"Login to Your Account"})]}),(0,r.jsx)(C.BT,{children:"Enter the email address you used when subscribing to log into your account from this device."})]}),(0,r.jsxs)(C.Wu,{children:[(0,r.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[(0,r.jsx)("div",{children:(0,r.jsx)(T.p,{type:"email",placeholder:"Enter your email address",value:o,onChange:e=>u(e.target.value),disabled:x,className:"text-foreground placeholder:text-muted-foreground bg-background border-input",style:{color:"var(--foreground)"}})}),g&&(0,r.jsxs)(A.Fc,{variant:"destructive",children:[(0,r.jsx)(P.A,{className:"h-4 w-4"}),(0,r.jsxs)(A.TN,{children:[g,g.includes("Network")&&(0,r.jsxs)("div",{className:"mt-2 text-sm",children:[(0,r.jsx)("p",{children:"Try these steps:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[(0,r.jsx)("li",{children:"Check your internet connection"}),(0,r.jsx)("li",{children:"Refresh the page and try again"}),(0,r.jsx)("li",{children:"Contact support if the problem persists"})]})]})]})]}),(0,r.jsx)("div",{className:"flex space-x-2",children:(0,r.jsx)(l.$,{type:"submit",disabled:x||!o,className:"w-full",children:x?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending Code..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E.A,{className:"mr-2 h-4 w-4"}),"Send Verification Code"]})})}),(0,r.jsxs)("div",{className:"space-y-2 mt-4",children:[(0,r.jsxs)(l.$,{type:"button",variant:"secondary",className:"w-full",onClick:()=>window.location.href="/subscription?tab=plans",disabled:x,children:[(0,r.jsx)(c.A,{className:"mr-2 h-4 w-4 text-yellow-600"}),"Subscribe Now"]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("span",{className:"w-full border-t"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,r.jsx)("span",{className:"bg-background dark:bg-gray-800 px-2 text-muted-foreground",children:"Need help?"})})]}),(0,r.jsxs)(l.$,{type:"button",variant:"outline",className:"w-full",onClick:()=>window.location.href="/email-recovery",disabled:x,children:[(0,r.jsx)(E.A,{className:"mr-2 h-4 w-4"}),"Can't access your email?"]})]})]}),(0,r.jsxs)("div",{className:"mt-4 text-sm text-muted-foreground",children:[(0,r.jsxs)("p",{children:["\uD83D\uDD12 ",(0,r.jsx)("strong",{children:"Secure Login"})]}),(0,r.jsx)("p",{children:"We'll send a verification code to your email to securely log you in."})]})]})]}):(0,r.jsxs)(C.Zp,{className:"w-full max-w-md mx-auto relative",children:[a&&(0,r.jsx)("button",{onClick:a,className:"absolute top-4 right-4 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors z-10","aria-label":"Close login modal",children:(0,r.jsx)(f.A,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"})}),(0,r.jsxs)(C.aR,{children:[(0,r.jsxs)(C.ZB,{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"Enter Verification Code"})]}),(0,r.jsxs)(C.BT,{children:["We sent a 6-digit code to ",(0,r.jsx)("strong",{children:o}),". Enter it below to access your subscription."]})]}),(0,r.jsxs)(C.Wu,{children:[(0,r.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[(0,r.jsx)("div",{children:(0,r.jsx)(T.p,{type:"text",placeholder:"000000",value:h,onChange:e=>m(e.target.value.replace(/\D/g,"").slice(0,6)),disabled:x,className:"text-center text-2xl font-mono tracking-wider text-foreground placeholder:text-muted-foreground bg-background border-input",style:{color:"var(--foreground)"},maxLength:6})}),g&&(0,r.jsxs)(A.Fc,{variant:"destructive",children:[(0,r.jsx)(P.A,{className:"h-4 w-4"}),(0,r.jsxs)(A.TN,{children:[g,null!==j&&j>0&&(0,r.jsxs)("span",{className:"block mt-1",children:[j," attempt",1!==j?"s":""," remaining"]}),0===j&&(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)(l.$,{type:"button",variant:"outline",size:"sm",onClick:S,className:"text-xs",children:"Request New Code"})})]})]}),(0,r.jsx)("div",{className:"flex space-x-2",children:(0,r.jsx)(l.$,{type:"submit",disabled:x||6!==h.length,className:"flex-1",children:x?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(I.A,{className:"mr-2 h-4 w-4"}),"Log In"]})})}),(0,r.jsx)("div",{className:"flex justify-center items-center text-sm",children:(0,r.jsx)(l.$,{type:"button",variant:"ghost",onClick:S,disabled:x,className:"text-muted-foreground hover:text-foreground",children:"â† Change Email"})})]}),(0,r.jsxs)("div",{className:"mt-4 text-sm text-muted-foreground",children:[(0,r.jsxs)("p",{children:["\uD83D\uDCE7 ",(0,r.jsx)("strong",{children:"Didn't receive the code?"})]}),(0,r.jsx)("p",{children:"Check your spam folder. The code expires in 10 minutes."}),v&&(0,r.jsxs)("p",{className:"mt-2",children:["Expires at: ",v.toLocaleTimeString()]})]})]})]})}async function F(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=localStorage.getItem("jwt_access_token"),r=new Headers(t.headers||{});a&&r.set("Authorization","Bearer ".concat(a));let s=sessionStorage.getItem("app-session-id");s&&r.set("x-session-id",s);let i={...t,headers:r,credentials:"include"},n=await fetch(e,i);if((void 0).DEV&&401===n.status&&console.log("\uD83D\uDD10 auth-fetch received 401:",{url:e,hasAccessToken:!!a,hasRefreshToken:!!localStorage.getItem("jwt_refresh_token"),responseHeaders:Object.fromEntries(n.headers.entries())}),401===n.status&&localStorage.getItem("jwt_refresh_token")){console.log("Access token expired, attempting refresh...");try{let t=await fetch("/api/auth/refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:localStorage.getItem("jwt_refresh_token")}),credentials:"include"});if(t.ok){let a=t.headers.get("content-type");if(a&&a.includes("application/json")){let{tokens:a}=await t.json();return localStorage.setItem("jwt_access_token",a.access),localStorage.setItem("jwt_refresh_token",a.refresh),r.set("Authorization","Bearer ".concat(a.access)),fetch(e,i)}console.warn("Refresh endpoint returned non-JSON response")}else console.log("Token refresh failed with status:",t.status)}catch(e){console.log("Token refresh failed:",e instanceof Error?e.message:"Unknown error"),localStorage.removeItem("jwt_access_token"),localStorage.removeItem("jwt_refresh_token")}}return n}var R=a(47650);function z(){let e=(0,o.usePathname)(),t=(0,o.useRouter)(),[a,i]=(0,s.useState)(!1),[T,C]=(0,s.useState)(null),[A,E]=(0,s.useState)(!1),[P,_]=(0,s.useState)(!1),[I,D]=(0,s.useState)(!1),[z,O]=(0,s.useState)(!0),[$,M]=(0,s.useState)(!1),{toast:V}=(0,y.dj)(),{theme:q,toggleTheme:W}=N(),U=(0,S.a)(),B=(0,s.useRef)(null),J=(0,s.useRef)(null),Y=()=>{I||(D(!0),setTimeout(()=>{_(!1),D(!1)},200))};(0,s.useEffect)(()=>{let e=async()=>{O(!0);try{let e=await F("/api/auth/session",{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){let t=await e.json();t.authenticated&&t.user?(C(t.user),i(!0),M("admin@readmyfineprint.com"===t.user.email||"prodbybuddha@icloud.com"===t.user.email)):(i(!1),C(null),M(!1))}else i(!1),C(null),M(!1)}catch(e){e instanceof Error&&!e.message.includes("401")&&!e.message.includes("Unauthorized")&&console.error("Error checking authentication:",e),i(!1),C(null),M(!1)}finally{O(!1)}};e();let t=()=>{setTimeout(e,100)};return window.addEventListener("authUpdate",t),window.addEventListener("authStateChanged",t),()=>{window.removeEventListener("authUpdate",t),window.removeEventListener("authStateChanged",t)}},[e,V]),(0,s.useEffect)(()=>{let e=e=>{P&&B.current&&!B.current.contains(e.target)&&J.current&&!J.current.contains(e.target)&&Y()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[P,I]),(0,s.useEffect)(()=>{P&&Y()},[e]);let H=e=>{e.preventDefault(),E(!0)},Z=async e=>{e.preventDefault();try{let e=await (0,v.ri)();i(!1),C(null),M(!1),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),localStorage.removeItem("jwt_access_token"),localStorage.removeItem("jwt_refresh_token"),localStorage.removeItem("subscriptionToken"),localStorage.removeItem("subscription_token"),(0,j.q7)(),(0,w.LF)(),k.qQ.clear(),V({title:"Logged out successfully",description:"".concat(e.details.tokensRevoked," tokens revoked, documents cleared"),duration:3e3}),window.location.href="/"}catch(e){console.error("Logout error:",e),i(!1),C(null),M(!1),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),localStorage.removeItem("jwt_access_token"),localStorage.removeItem("jwt_refresh_token"),localStorage.removeItem("subscriptionToken"),localStorage.removeItem("subscription_token"),(0,j.q7)(),(0,w.LF)(),k.qQ.clear(),V({title:"Logged out",description:"Session cleared locally",duration:3e3}),window.location.href="/"}},G=async()=>{E(!1),window.dispatchEvent(new Event("authUpdate")),window.dispatchEvent(new CustomEvent("authStateChanged")),V({title:"Login successful",description:"Welcome back!",duration:3e3})};return(0,r.jsxs)("header",{id:"navigation",role:"banner",className:"\n        ".concat(U?"bg-white/95 dark:bg-slate-900/95 backdrop-blur-lg border-b-0 shadow-sm":"bg-white dark:bg-slate-900 border-b border-teal-200 dark:border-slate-700","\n        flex-shrink-0 z-50 transition-all duration-300\n      "),style:U?{paddingTop:"var(--app-safe-area-top)",paddingLeft:"var(--app-safe-area-left)",paddingRight:"var(--app-safe-area-right)"}:{},children:[(0,r.jsxs)("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center ".concat(U?"h-14":"h-16"),children:[(0,r.jsx)(n(),{href:"/","aria-label":"ReadMyFinePrint - Go to homepage",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3 cursor-pointer group",children:[(0,r.jsx)("div",{className:"".concat(U?"p-1":"p-1.5"," bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl shadow-sm group-hover:shadow-md transition-all duration-200 group-active:scale-95"),children:(0,r.jsx)("img",{src:"/og-image.png",alt:"ReadMyFinePrint Logo",className:"".concat(U?"w-8 h-8":"w-10 h-10"," object-contain rounded-lg")})}),(0,r.jsx)("h1",{className:"text-3xl font-black bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent hidden md:block tracking-tight",children:"RMFP"}),U&&(0,r.jsx)("h1",{className:"text-2xl font-black bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent tracking-tight",children:"RMFP"})]})}),(0,r.jsxs)("nav",{className:"hidden md:flex items-center space-x-6",role:"navigation","aria-label":"Main navigation",children:[(0,r.jsx)(n(),{href:"/subscription?tab=plans",children:(0,r.jsxs)(l.$,{variant:"ghost",size:"sm",className:"mr-2","aria-label":"View subscription plans",onClick:()=>{t.push("/subscription?tab=plans")},children:[(0,r.jsx)(c.A,{className:"w-4 h-4 mr-2 text-yellow-600 dark:text-yellow-400","aria-hidden":"true"}),"Plans"]})}),(0,r.jsx)(n(),{href:"/trust",children:(0,r.jsxs)(l.$,{variant:"ghost",size:"sm",className:"mr-2","aria-label":"Trust and security information",children:[(0,r.jsx)(d.A,{className:"w-4 h-4 mr-2 text-green-600 dark:text-green-400","aria-hidden":"true"}),"Trust"]})}),(0,r.jsx)(n(),{href:"/blog",children:(0,r.jsxs)(l.$,{variant:"ghost",size:"sm",className:"mr-2","aria-label":"Legal insights and contract law blog",children:[(0,r.jsx)(u.A,{className:"w-4 h-4 mr-2 text-purple-600 dark:text-purple-400","aria-hidden":"true"}),"Blog"]})}),$&&(0,r.jsx)(n(),{href:"/admin",children:(0,r.jsxs)(l.$,{variant:"ghost",size:"sm",className:"mr-2","aria-label":"Admin Dashboard",children:[(0,r.jsx)(h.A,{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400","aria-hidden":"true"}),"Admin"]})}),z?(0,r.jsxs)(l.$,{variant:"outline",size:"sm",className:"mr-2",disabled:!0,"aria-label":"Checking login status",children:[(0,r.jsx)("div",{className:"w-4 h-4 mr-2 border border-gray-400 dark:border-gray-500 border-t-transparent rounded-full animate-spin"}),"Loading..."]}):a?(0,r.jsxs)(l.$,{variant:"outline",size:"sm",className:"mr-2","aria-label":"Logout",onClick:Z,children:[(0,r.jsx)(m.A,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Logout"]}):(0,r.jsx)(l.$,{variant:"default",size:"sm",className:"mr-2 bg-blue-600 hover:bg-blue-700 text-white","aria-label":"Login or Subscribe",onClick:H,children:"Login / Subscribe"}),(0,r.jsx)(n(),{href:"/donate",children:(0,r.jsxs)(l.$,{variant:"outline",size:"sm",className:"mr-2","aria-label":"Support us with a donation",children:[(0,r.jsx)(x.A,{className:"w-4 h-4 mr-2 text-red-500","aria-hidden":"true"}),"Donate"]})}),(0,r.jsxs)(l.$,{onClick:W,variant:"ghost",size:"sm",className:"mr-2","aria-label":"Switch to ".concat("light"===q?"dark":"light"," theme"),"aria-pressed":"dark"===q,children:["light"===q?(0,r.jsx)(p.A,{className:"w-4 h-4","aria-hidden":"true"}):(0,r.jsx)(g.A,{className:"w-4 h-4","aria-hidden":"true"}),(0,r.jsx)("span",{className:"sr-only",children:"light"===q?"Switch to dark theme":"Switch to light theme"})]})]}),(0,r.jsx)("nav",{className:"md:hidden flex items-center space-x-2",role:"navigation","aria-label":"Mobile navigation",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[z?(0,r.jsx)(l.$,{variant:"outline",size:"sm",className:"h-9 px-3 text-xs transition-all duration-200",disabled:!0,"aria-label":"Checking login status",children:(0,r.jsx)("div",{className:"w-3 h-3 mr-1 border border-gray-400 dark:border-gray-500 border-t-transparent rounded-full animate-spin"})}):a?(0,r.jsxs)(l.$,{variant:"outline",size:"sm",className:"h-9 px-3 text-xs transition-all duration-200 active:scale-95 touch-manipulation","aria-label":"Logout",onClick:Z,onTouchStart:()=>{},children:[(0,r.jsx)(m.A,{className:"w-3 h-3 mr-1","aria-hidden":"true"}),"Logout"]}):(0,r.jsx)(l.$,{variant:"default",size:"sm",className:"h-9 px-3 text-xs bg-blue-600 hover:bg-blue-700 text-white transition-all duration-200 active:scale-95 touch-manipulation","aria-label":"Login or Subscribe",onClick:H,onTouchStart:()=>{},children:"Login"}),(0,r.jsx)(l.$,{ref:J,variant:"ghost",size:"sm",className:"h-9 w-9 p-0 transition-all duration-200 active:scale-95 touch-manipulation","aria-label":P?"Close menu":"Open menu",onClick:()=>{P?Y():_(!0)},onTouchStart:()=>{},children:P?(0,r.jsx)(f.A,{className:"w-5 h-5","aria-hidden":"true"}):(0,r.jsx)(b.A,{className:"w-5 h-5","aria-hidden":"true"})})]})})]}),P&&(0,r.jsx)("div",{ref:B,className:"md:hidden bg-white/95 dark:bg-slate-900/95 backdrop-blur-lg border-t border-gray-200 dark:border-gray-700 shadow-lg ".concat(I?"mobile-menu-exit":"mobile-menu-enter"),style:{paddingLeft:"var(--app-safe-area-left)",paddingRight:"var(--app-safe-area-right)"},children:(0,r.jsxs)("div",{className:"px-4 py-3 space-y-2 mobile-scroll-container",children:[(0,r.jsx)(n(),{href:"/subscription?tab=plans",children:(0,r.jsxs)(l.$,{variant:"ghost",size:"sm",className:"w-full justify-start h-10 transition-all duration-200 active:scale-95 touch-manipulation","aria-label":"View subscription plans",onClick:Y,onTouchStart:()=>{},children:[(0,r.jsx)(c.A,{className:"w-4 h-4 mr-3 text-yellow-600 dark:text-yellow-400","aria-hidden":"true"}),"Plans"]})}),(0,r.jsx)(n(),{href:"/trust",children:(0,r.jsxs)(l.$,{variant:"ghost",size:"sm",className:"w-full justify-start h-10 transition-all duration-200 active:scale-95 touch-manipulation","aria-label":"Trust and security information",onClick:Y,onTouchStart:()=>{},children:[(0,r.jsx)(d.A,{className:"w-4 h-4 mr-3 text-green-600 dark:text-green-400","aria-hidden":"true"}),"Trust"]})}),(0,r.jsx)(n(),{href:"/blog",children:(0,r.jsxs)(l.$,{variant:"ghost",size:"sm",className:"w-full justify-start h-10 transition-all duration-200 active:scale-95 touch-manipulation","aria-label":"Legal insights and contract law blog",onClick:Y,onTouchStart:()=>{},children:[(0,r.jsx)(u.A,{className:"w-4 h-4 mr-3 text-purple-600 dark:text-purple-400","aria-hidden":"true"}),"Blog"]})}),$&&(0,r.jsx)(n(),{href:"/admin",children:(0,r.jsxs)(l.$,{variant:"ghost",size:"sm",className:"w-full justify-start h-10 transition-all duration-200 active:scale-95 touch-manipulation","aria-label":"Admin Dashboard",onClick:Y,onTouchStart:()=>{},children:[(0,r.jsx)(h.A,{className:"w-4 h-4 mr-3 text-blue-600 dark:text-blue-400","aria-hidden":"true"}),"Admin"]})}),(0,r.jsx)(n(),{href:"/donate",children:(0,r.jsxs)(l.$,{variant:"ghost",size:"sm",className:"w-full justify-start h-10 transition-all duration-200 active:scale-95 touch-manipulation","aria-label":"Support us with a donation",onClick:Y,onTouchStart:()=>{},children:[(0,r.jsx)(x.A,{className:"w-4 h-4 mr-3 text-red-500 dark:text-red-400","aria-hidden":"true"}),"Donate"]})}),(0,r.jsxs)(l.$,{onClick:()=>{W(),Y()},variant:"ghost",size:"sm",className:"w-full justify-start h-10 transition-all duration-200 active:scale-95 touch-manipulation","aria-label":"Switch to ".concat("light"===q?"dark":"light"," theme"),"aria-pressed":"dark"===q,onTouchStart:()=>{},children:["light"===q?(0,r.jsx)(p.A,{className:"w-4 h-4 mr-3","aria-hidden":"true"}):(0,r.jsx)(g.A,{className:"w-4 h-4 mr-3","aria-hidden":"true"}),"light"===q?"Dark Mode":"Light Mode"]})]})})]}),A&&(0,r.jsx)(r.Fragment,{children:document.body&&R.createPortal((0,r.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9999] flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"login-modal-title",children:[(0,r.jsx)("button",{className:"absolute inset-0 w-full h-full cursor-default",onClick:()=>E(!1),onKeyDown:e=>"Escape"===e.key&&E(!1),"aria-label":"Close modal",tabIndex:-1}),(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full shadow-2xl relative z-10",role:"document",children:(0,r.jsx)(L,{onSuccess:G,onCancel:()=>E(!1)})})]}),document.body)})]})}},49026:(e,t,a)=>{"use strict";a.d(t,{Fc:()=>l,TN:()=>c});var r=a(95155),s=a(12115),i=a(74466),n=a(53999);let o=(0,i.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=s.forwardRef((e,t)=>{let{className:a,variant:s,...i}=e;return(0,r.jsx)("div",{ref:t,role:"alert",className:(0,n.cn)(o({variant:s}),a),...i})});l.displayName="Alert",s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsx)("h5",{ref:t,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",a),...i,children:s})}).displayName="AlertTitle";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",a),...s})});c.displayName="AlertDescription"},53580:(e,t,a)=>{"use strict";a.d(t,{dj:()=>u});var r=a(12115);let s=0,i=new Map,n=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},o=[],l={toasts:[]};function c(e){l=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?n(a):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(l,e),o.forEach(e=>{e(l)})}function d(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function u(){let[e,t]=r.useState(l);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},83119:(e,t,a)=>{"use strict";a.d(t,{a:()=>s});var r=a(12115);function s(){let[e,t]=r.useState(void 0);return r.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),a=()=>{t(window.innerWidth<768)};return e.addEventListener("change",a),t(window.innerWidth<768),()=>e.removeEventListener("change",a)},[]),!!e}},89852:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var r=a(95155),s=a(12115),i=a(53999);let n=s.forwardRef((e,t)=>{let{className:a,type:s,error:n,...o}=e;return(0,r.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-colors",n&&"border-destructive focus-visible:ring-destructive",a),ref:t,"aria-invalid":n||o["aria-invalid"],...o})});n.displayName="Input"},94887:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,19324,23)),Promise.resolve().then(a.bind(a,19010)),Promise.resolve().then(a.bind(a,31981)),Promise.resolve().then(a.bind(a,25562)),Promise.resolve().then(a.t.bind(a,65299,23))}},e=>{e.O(0,[2618,5003,6874,7017,7861,8891,5411,8441,5964,7358],()=>e(e.s=94887)),_N_E=e.O()}]);