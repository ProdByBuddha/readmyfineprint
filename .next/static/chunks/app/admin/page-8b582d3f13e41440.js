(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{15802:(e,t,s)=>{Promise.resolve().then(s.bind(s,58076))},40646:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(19946).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},51154:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(19946).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},53999:(e,t,s)=>{"use strict";s.d(t,{cn:()=>a});var r=s(52596),n=s(39688);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.QP)((0,r.$)(t))}},54861:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(19946).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},58076:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(95155),n=s(12115),a=s(97168),i=s(88482),o=s(88145),l=s(81284),c=s(51154);let d=(0,s(19946).A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var h=s(40646),u=s(54861),f=s(73309);function m(){var e;let[t,s]=(0,n.useState)(!1),[m,g]=(0,n.useState)([]),[x,p]=(0,n.useState)(null),y=async()=>{s(!0),g([]);try{let e=await (0,f.bl)("/api/indexnow/submit-all",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to submit to IndexNow");let t=await e.json();g(t.results||[]),p(t.stats)}catch(e){console.error("IndexNow submission failed:",e)}finally{s(!1)}},j=async()=>{try{let e=await (0,f.bl)("/api/indexnow/stats",{credentials:"include"});if(e.ok){let t=await e.json();p(t)}}catch(e){console.error("Failed to get IndexNow stats:",e)}};return(0,r.jsx)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"IndexNow Management"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Submit your URLs to search engines for faster indexing"})]}),(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(l.A,{className:"w-5 h-5"}),"Configuration"]}),(0,r.jsx)(i.BT,{children:"Current IndexNow configuration and statistics"})]}),(0,r.jsx)(i.Wu,{children:x?(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Host:"})," ",x.baseHost]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Public URLs:"})," ",x.totalPublicUrls]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Verification Key:"})," ",x.verificationKey.substring(0,8),"..."]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Supported Engines:"})," ",null==(e=x.supportedEngines)?void 0:e.join(", ")]})]}):(0,r.jsx)(a.$,{variant:"outline",size:"sm",onClick:j,children:"Load Configuration"})})]}),(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Submit URLs to Search Engines"}),(0,r.jsx)(i.BT,{children:"Submit all public URLs to Bing, Yandex, Naver, and Seznam for faster indexing"})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsx)(a.$,{onClick:y,disabled:t,className:"w-full sm:w-auto",children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d,{className:"w-4 h-4 mr-2"}),"Submit All URLs"]})})})]}),m.length>0&&(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Submission Results"}),(0,r.jsx)(i.BT,{children:"Results from the latest IndexNow submission"})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsx)("div",{className:"space-y-3",children:m.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[e.success?(0,r.jsx)(h.A,{className:"w-5 h-5 text-green-500"}):(0,r.jsx)(u.A,{className:"w-5 h-5 text-red-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium capitalize",children:e.searchEngine}),e.error&&(0,r.jsx)("div",{className:"text-sm text-red-600",children:e.error})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.E,{variant:e.success?"default":"destructive",children:e.statusCode||"Error"}),e.success&&(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:[e.submittedUrls," URLs"]})]})]},t))})})]}),(0,r.jsxs)(i.Zp,{children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{children:"How IndexNow Works"})}),(0,r.jsx)(i.Wu,{className:"prose prose-sm max-w-none",children:(0,r.jsxs)("ul",{className:"space-y-2",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Instant Notifications:"})," Search engines are notified immediately when your content changes"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Multiple Engines:"})," Submits to Bing, Yandex, Naver, and Seznam automatically"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Verification Key:"})," Uses your domain verification key for authentication"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"No Rate Limits:"})," IndexNow has no rate limits for legitimate submissions"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Free Service:"})," IndexNow is completely free to use"]})]})})]})]})})}},73309:(e,t,s)=>{"use strict";s.d(t,{bl:()=>i,lo:()=>a});var r=s(74671);let n=null;function a(){return n||(n=sessionStorage.getItem("app-session-id")||crypto.getRandomValues(new Uint8Array(16)).reduce((e,t)=>e+t.toString(16).padStart(2,"0"),""),sessionStorage.setItem("app-session-id",n)),n}async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a();if(!["GET","HEAD","OPTIONS"].includes((t.method||"GET").toUpperCase())){let n={...t.headers||{},"x-session-id":s},a=localStorage.getItem("jwt_access_token");a||(a=sessionStorage.getItem("jwt_access_token")),a&&(n.Authorization="Bearer ".concat(a));let i=await (0,r.fd)(e,{...t,headers:n});if(401===i.status&&a&&localStorage.getItem("jwt_refresh_token"))try{let s=await fetch("/api/auth/refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:localStorage.getItem("jwt_refresh_token")}),credentials:"include"});if(s.ok){let a=s.headers.get("content-type");if(a&&a.includes("application/json")){let{tokens:a}=await s.json();localStorage.setItem("jwt_access_token",a.access),localStorage.setItem("jwt_refresh_token",a.refresh),sessionStorage.setItem("jwt_access_token",a.access),sessionStorage.setItem("jwt_refresh_token",a.refresh);let i={...n,Authorization:"Bearer ".concat(a.access)};return(0,r.fd)(e,{...t,headers:i})}}}catch(e){console.log("Token refresh failed for CSRF request:",e instanceof Error?e.message:"Unknown error"),localStorage.removeItem("jwt_access_token"),localStorage.removeItem("jwt_refresh_token")}return i}let i={...t.headers||{},"x-session-id":s},o=localStorage.getItem("jwt_access_token");o&&(i.Authorization="Bearer ".concat(o));let l=await fetch(e,{...t,headers:i,credentials:"include"});if(401===l.status&&o&&localStorage.getItem("jwt_refresh_token"))try{let s=await fetch("/api/auth/refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:localStorage.getItem("jwt_refresh_token")}),credentials:"include"});if(s.ok){let r=s.headers.get("content-type");if(r&&r.includes("application/json")){let{tokens:r}=await s.json();localStorage.setItem("jwt_access_token",r.access),localStorage.setItem("jwt_refresh_token",r.refresh);let n={...i,Authorization:"Bearer ".concat(r.access)};return fetch(e,{...t,headers:n,credentials:"include"})}console.warn("Refresh endpoint returned non-JSON response")}else console.log("Token refresh failed with status:",s.status)}catch(e){console.log("Token refresh failed:",e instanceof Error?e.message:"Unknown error"),localStorage.removeItem("jwt_access_token"),localStorage.removeItem("jwt_refresh_token")}else l.status;let c=l.headers.get("x-session-id");return c&&c!==s&&(n=c,sessionStorage.setItem("app-session-id",c)),l}},74671:(e,t,s)=>{"use strict";s.d(t,{fd:()=>a});class r{async getToken(e){if(this.token&&Date.now()<this.tokenExpiry)return this.token;if(this.fetchPromise)try{return await this.fetchPromise}catch(e){throw this.fetchPromise=null,e}this.fetchPromise=this.fetchTokenFromServer(e);try{let e=await this.fetchPromise;return this.fetchPromise=null,e}catch(e){throw this.fetchPromise=null,e}}async fetchTokenFromServer(e){try{let t=await fetch("/api/csrf-token",{method:"GET",headers:{"Content-Type":"application/json","x-session-id":e},credentials:"include"});if(!t.ok)throw Error("Failed to fetch CSRF token: ".concat(t.status));let s=await t.json();if(!s.csrfToken)throw Error("No CSRF token received from server");return this.token=s.csrfToken,this.tokenExpiry=Date.now()+this.TOKEN_VALIDITY,s.csrfToken}catch(e){throw e}}async addTokenToHeaders(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let s=await this.getToken(e);return{...t,"x-csrf-token":s}}catch(e){return t}}async fetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;if(["GET","HEAD","OPTIONS"].includes((t.method||"GET").toUpperCase()))return fetch(e,{...t,credentials:"include"});try{let r=await this.addTokenToHeaders(s,t.headers||{}),n=await fetch(e,{...t,headers:r,credentials:"include"});if(403===n.status){let r=await n.text();if(r.includes("CSRF")||r.includes("csrf")){this.clearToken();let r=await this.addTokenToHeaders(s,t.headers||{});return fetch(e,{...t,headers:r,credentials:"include"})}}return n}catch(e){throw e}}clearToken(){this.token=null,this.tokenExpiry=0,this.fetchPromise=null}hasValidToken(){return null!==this.token&&Date.now()<this.tokenExpiry}getCurrentToken(){return this.token}constructor(){this.token=null,this.tokenExpiry=0,this.TOKEN_VALIDITY=9e6,this.fetchPromise=null}}let n=new r;async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=sessionStorage.getItem("app-session-id")||"anonymous";return n.fetch(e,t,s)}},81284:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(19946).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},88145:(e,t,s)=>{"use strict";s.d(t,{E:()=>o});var r=s(95155);s(12115);var n=s(74466),a=s(53999);let i=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:s,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)(i({variant:s}),t),...n})}},88482:(e,t,s)=>{"use strict";s.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>i,aR:()=>o,wL:()=>h});var r=s(95155),n=s(12115),a=s(53999);let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...n})});i.displayName="Card";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",s),...n})});o.displayName="CardHeader";let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",s),...n})});l.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",s),...n})});c.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",s),...n})});d.displayName="CardContent";let h=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",s),...n})});h.displayName="CardFooter"},97168:(e,t,s)=>{"use strict";s.d(t,{$:()=>c});var r=s(95155),n=s(12115),a=s(99708),i=s(74466),o=s(53999);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2 min-w-[2.5rem]",sm:"h-9 rounded-md px-3 min-w-[2.25rem]",lg:"h-11 rounded-md px-8 min-w-[2.75rem]",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:s,variant:n,size:i,asChild:c=!1,loading:d=!1,disabled:h,children:u,...f}=e,m=c?a.DX:"button",g=h||d;return(0,r.jsxs)(m,{className:(0,o.cn)(l({variant:n,size:i,className:s})),ref:t,disabled:g,"aria-disabled":g,"aria-busy":d,tabIndex:g?-1:0,...f,children:[d&&(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u,d&&(0,r.jsx)("span",{className:"sr-only",children:"Loading..."})]})});c.displayName="Button"}},e=>{e.O(0,[455,441,964,358],()=>e(e.s=15802)),_N_E=e.O()}]);