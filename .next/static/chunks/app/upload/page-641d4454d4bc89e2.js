(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5754,5994],{45754:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(12115);let r=()=>((0,a.useEffect)(()=>{let e=e=>(e.preventDefault(),!1),t=e=>{if("F12"===e.key||e.ctrlKey&&e.shiftKey&&"I"===e.key||e.ctrlKey&&e.shiftKey&&"C"===e.key||e.ctrlKey&&"u"===e.key||e.ctrlKey&&"s"===e.key)return e.preventDefault(),!1};document.addEventListener("contextmenu",e),document.addEventListener("keydown",t),document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",document.body.style.msUserSelect="none",console.log("%c\uD83D\uDD12 PRIVACY-FIRST DOCUMENT ANALYSIS","color: blue; font-size: 24px; font-weight: bold;"),console.log("%cThis application uses proprietary privacy-preserving technology protected by trade secret laws.","color: orange; font-size: 14px;"),console.log("%cOur enterprise-grade security ensures your sensitive information never leaves your control.","color: green; font-size: 14px;"),console.log("%cFor security inquiries, contact: security@readmyfineprint.ai","color: blue; font-size: 12px;");let s={open:!1},a=setInterval(()=>{window.outerHeight-window.innerHeight>160||window.outerWidth-window.innerWidth>160?s.open||(s.open=!0,console.log("%c\uD83D\uDEE1️ PRIVACY PROTECTION ACTIVE","color: green; font-size: 18px; font-weight: bold;"),console.log("%cYour documents are protected by military-grade security protocols.","color: blue; font-size: 12px;"),console.log("%cAdvanced privacy technology ensures complete confidentiality.","color: blue; font-size: 12px;")):s.open=!1},500);return()=>{document.removeEventListener("contextmenu",e),document.removeEventListener("keydown",t),clearInterval(a),document.body.style.userSelect="",document.body.style.webkitUserSelect="",document.body.style.msUserSelect=""}},[]),null)},49026:(e,t,s)=>{"use strict";s.d(t,{Fc:()=>l,TN:()=>c});var a=s(95155),r=s(12115),n=s(74466),i=s(53999);let o=(0,n.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=r.forwardRef((e,t)=>{let{className:s,variant:r,...n}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(o({variant:r}),s),...n})});l.displayName="Alert",r.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",s),...n,children:r})}).displayName="AlertTitle";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",s),...r})});c.displayName="AlertDescription"},53580:(e,t,s)=>{"use strict";s.d(t,{dj:()=>h});var a=s(12115);let r=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=[],l={toasts:[]};function c(e){l=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(l,e),o.forEach(e=>{e(l)})}function d(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function h(){let[e,t]=a.useState(l);return a.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},71238:(e,t,s)=>{Promise.resolve().then(s.bind(s,99286))},71628:(e,t,s)=>{"use strict";s.r(t),s.d(t,{MobileAppWrapper:()=>l});var a=s(95155),r=s(53904),n=s(12115),i=s(83119),o=s(6069);function l(e){let{children:t,className:s=""}=e,l=(0,i.a)(),{containerRef:c,isPulling:d,isRefreshing:h,pullDistance:u,canRefresh:m}=function(e){let{onRefresh:t,threshold:s=80,resistance:a=2.5,enabled:r=!0}=e,[i,o]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),[d,h]=(0,n.useState)(0),u=(0,n.useRef)(0),m=(0,n.useRef)(0),x=(0,n.useRef)(null),g=(0,n.useCallback)(e=>{r&&((e.target.closest(".overflow-y-auto")||document.documentElement).scrollTop>0||(u.current=e.touches[0].clientY,m.current=e.touches[0].clientY))},[r]),p=(0,n.useCallback)(e=>{if(!r||!u.current||(e.target.closest(".overflow-y-auto")||document.documentElement).scrollTop>0)return;m.current=e.touches[0].clientY;let t=m.current-u.current;if(t>20){e.preventDefault();let r=Math.min(t/a,1.5*s);h(r),r>=s&&!i?(o(!0),"vibrate"in navigator&&navigator.vibrate(50)):r<s&&i&&o(!1)}},[r,s,a,i]),y=(0,n.useCallback)(async()=>{if(r){if(i&&d>=s){c(!0);try{await t()}catch(e){console.error("Refresh error:",e)}finally{c(!1)}}o(!1),h(0),u.current=0,m.current=0}},[r,i,d,s,t]);return(0,n.useEffect)(()=>{let e=x.current||document.body;return e.addEventListener("touchstart",g,{passive:!1}),e.addEventListener("touchmove",p,{passive:!1}),e.addEventListener("touchend",y,{passive:!0}),()=>{e.removeEventListener("touchstart",g),e.removeEventListener("touchmove",p),e.removeEventListener("touchend",y)}},[g,p,y]),{containerRef:x,isPulling:i,isRefreshing:l,pullDistance:d,canRefresh:d>=s}}({onRefresh:async()=>{await o.qQ.invalidateQueries(),await new Promise(e=>setTimeout(e,800))},enabled:l,threshold:80,resistance:2.5});return l?(0,a.jsxs)("div",{ref:c,className:"relative ".concat(s),style:{transform:u>0?"translateY(".concat(Math.min(u,100),"px)"):"none",transition:d?"none":"transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:[(d||h)&&(0,a.jsx)("div",{className:"\n            pull-to-refresh \n            ".concat(m||h?"active":"","\n          "),style:{opacity:Math.min(u/60,1),transform:"translateX(-50%) scale(".concat(Math.min(.8+u/200,1.2),")")},children:(0,a.jsx)(r.A,{className:"\n              w-5 h-5 text-primary\n              ".concat(h?"animate-spin":m?"rotate-180":"","\n            "),style:{transform:"rotate(".concat(Math.min(2*u,180),"deg)"),transition:h?"none":"transform 0.2s ease"}})}),(0,a.jsx)("div",{className:h?"opacity-80":"opacity-100",children:t}),d&&!m&&(0,a.jsx)("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50",children:(0,a.jsx)("div",{className:"bg-black/70 text-white text-sm px-3 py-1 rounded-full backdrop-blur-sm",children:"Pull down to refresh"})}),m&&!h&&(0,a.jsx)("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50",children:(0,a.jsx)("div",{className:"bg-primary/90 text-white text-sm px-3 py-1 rounded-full backdrop-blur-sm",children:"Release to refresh"})})]}):(0,a.jsx)("div",{className:s,children:t})}},82714:(e,t,s)=>{"use strict";s.d(t,{J:()=>c});var a=s(95155),r=s(12115),n=s(40968),i=s(74466),o=s(53999);let l=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.b,{ref:t,className:(0,o.cn)(l(),s),...r})});c.displayName=n.b.displayName},83119:(e,t,s)=>{"use strict";s.d(t,{a:()=>r});var a=s(12115);function r(){let[e,t]=a.useState(void 0);return a.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),s=()=>{t(window.innerWidth<768)};return e.addEventListener("change",s),t(window.innerWidth<768),()=>e.removeEventListener("change",s)},[]),!!e}},89852:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var a=s(95155),r=s(12115),n=s(53999);let i=r.forwardRef((e,t)=>{let{className:s,type:r,error:i,...o}=e;return(0,a.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-colors",i&&"border-destructive focus-visible:ring-destructive",s),ref:t,"aria-invalid":i||o["aria-invalid"],...o})});i.displayName="Input"},99286:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>eY});var a=s(95155),r=s(84616),n=s(97168),i=s(51154),o=s(12115),l=s(88482),c=s(99474),d=s(82714),h=s(85339),u=s(40646),m=s(42337),x=s(57434),g=s(55411),p=s(53580),y=s(8310);function f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{focusOnMount:t=!1,trapFocus:s=!1,announceChanges:a=!1}=e,r=(0,o.useRef)(null),n=(0,o.useRef)(null);(0,o.useEffect)(()=>{t&&r.current&&r.current.focus()},[t]);let i=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"polite";if(!n.current){let e=document.createElement("div");e.setAttribute("aria-live",t),e.setAttribute("aria-atomic","true"),e.setAttribute("class","sr-only"),e.style.position="absolute",e.style.left="-10000px",e.style.width="1px",e.style.height="1px",e.style.overflow="hidden",document.body.appendChild(e),n.current=e}n.current&&(n.current.textContent=e),setTimeout(()=>{n.current&&(n.current.textContent="")},1e3)},[]),l=(0,o.useCallback)(()=>{let e=document.querySelector('main, [role="main"], #main-content');e instanceof HTMLElement&&(e.focus(),e.scrollIntoView({behavior:"smooth",block:"start"}))},[]);return(0,y.vC)("alt+1",l,{preventDefault:!0}),(0,y.vC)("alt+h",()=>{let e=document.querySelector('header, [role="banner"]');e instanceof HTMLElement&&(e.focus(),e.scrollIntoView({behavior:"smooth"}))},{preventDefault:!0}),{elementRef:r,announce:i,skipToContent:l}}let b=()=>!!localStorage.getItem("subscriptionToken");function v(e){let{onDocumentCreated:t,disabled:s=!1,consentAccepted:r=!1}=e,[y,v]=(0,o.useState)(!1),[N,w]=(0,o.useState)(""),[j,k]=(0,o.useState)(!1),[S,A]=(0,o.useState)(null),[T,E]=(0,o.useState)(!1),C=(0,o.useRef)(null),I=(0,o.useRef)(null),{toast:F}=(0,p.dj)(),{announce:R}=f(),D=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?k(!0):"dragleave"===e.type&&k(!1)},L=async e=>{if(!e||s)return;A(null),E(!1);let a=(e=>{var t;let s="."+(null==(t=e.name.split(".").pop())?void 0:t.toLowerCase());return e.size>0x1900000?"File size must be less than 25MB":[".docx",".txt",".pdf"].includes(s)?null:"Only DOCX, TXT, and PDF files are supported"})(e);if(a){A(a),R(a,"assertive"),F({title:"Invalid file",description:a,variant:"destructive"});return}v(!0),R("Uploading file, please wait...","polite");try{let s=await (0,g.XX)(e);t(s.id),E(!0),R("File ".concat(e.name," uploaded successfully"),"polite"),F({title:"File uploaded successfully",description:"".concat(e.name," has been uploaded and is ready for analysis.")})}catch(t){console.error("Upload error:",t);let e=t instanceof Error?t.message:"Failed to upload file";A(e),R("Upload failed: ".concat(e),"assertive"),F({title:"Upload failed",description:e,variant:"destructive"})}finally{v(!1)}},P=async()=>{if(!s){if(A(null),E(!1),!N.trim()){var e;let t="Please enter some text to analyze.";A(t),R(t,"assertive"),F({title:"No content",description:t,variant:"destructive"}),null==(e=I.current)||e.focus();return}v(!0),R("Creating document from text, please wait...","polite");try{let e=await (0,g.ui)({title:"Pasted Document",content:N});t(e.id),w(""),E(!0),R("Document created successfully from pasted text","polite"),F({title:"Document created successfully",description:"Your text has been saved and is ready for analysis."})}catch(t){console.error("Create error:",t);let e=t instanceof Error?t.message:"Failed to create document";A(e),R("Document creation failed: ".concat(e),"assertive"),F({title:"Failed to create document",description:e,variant:"destructive"})}finally{v(!1)}}};return(0,a.jsx)(l.Zp,{className:"p-8 ".concat(s?"opacity-50 pointer-events-none":""),children:(0,a.jsxs)(l.Wu,{className:"p-0",children:[!r&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:[(0,a.jsx)("strong",{children:"Consent Required:"})," To analyze documents or paste text, please accept the terms and privacy policy using the banner at the bottom of the page."]})}),(0,a.jsxs)("div",{className:"flex flex-col gap-8 ".concat(b()?"":"lg:flex-row"),children:[(0,a.jsxs)("div",{className:b()?"w-full":"lg:w-1/2",children:[(0,a.jsx)("h3",{className:"text-2xl font-semibold mb-6 text-gray-900 dark:text-[#c7d3d9]",children:"Upload Your Document"}),(0,a.jsx)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ".concat(j?"border-primary bg-primary/5":S?"border-red-300 bg-red-50 dark:border-red-600 dark:bg-red-950/20":T?"border-green-300 bg-green-50 dark:border-green-600 dark:bg-green-950/20":"border-gray-300 hover:border-primary"),onDragEnter:D,onDragLeave:D,onDragOver:D,onDrop:e=>{e.preventDefault(),e.stopPropagation(),k(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&L(e.dataTransfer.files[0])},onClick:()=>{var e;return null==(e=C.current)?void 0:e.click()},onKeyDown:e=>{if("Enter"===e.key||" "===e.key){var t;e.preventDefault(),null==(t=C.current)||t.click()}},tabIndex:0,role:"button","aria-label":"Upload file area. Press Enter or Space to browse for files, or drag and drop files here.","aria-describedby":"file-upload-description file-upload-status",children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[S?(0,a.jsx)(h.A,{className:"w-12 h-12 text-red-500 mb-4","aria-hidden":"true"}):T?(0,a.jsx)(u.A,{className:"w-12 h-12 text-green-500 mb-4","aria-hidden":"true"}):(0,a.jsx)(m.A,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mb-4","aria-hidden":"true"}),(0,a.jsx)("p",{className:"text-lg font-medium mb-2 text-gray-900 dark:text-[#c7d3d9]",children:S?"Upload Failed":T?"Upload Successful":"Drop your file here or click to browse"}),(0,a.jsx)("p",{id:"file-upload-description",className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Supports DOCX, TXT, and PDF files up to 25MB"}),S&&(0,a.jsx)("p",{id:"file-upload-error",className:"text-sm text-red-600 dark:text-red-400 mb-4",role:"alert",children:S}),(0,a.jsx)(n.$,{type:"button",className:"bg-primary text-white hover:bg-primary/90",disabled:y,"aria-describedby":"file-upload-description",children:y?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.A,{className:"w-4 h-4 mr-2 animate-spin","aria-hidden":"true"}),(0,a.jsx)("span",{children:"Uploading..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.A,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Choose File"]})})]})}),(0,a.jsx)("input",{ref:C,type:"file",className:"sr-only",accept:".docx,.txt,.pdf",onChange:e=>{e.target.files&&e.target.files[0]&&L(e.target.files[0])},"aria-describedby":"file-upload-description"}),(0,a.jsxs)("div",{className:"relative flex py-5 items-center",role:"separator","aria-label":"Alternative upload method",children:[(0,a.jsx)("div",{className:"flex-grow border-t border-gray-200 dark:border-gray-700"}),(0,a.jsx)("span",{className:"flex-shrink mx-4 text-gray-500 dark:text-gray-400 text-sm",children:"or"}),(0,a.jsx)("div",{className:"flex-grow border-t border-gray-200 dark:border-gray-700"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"contract-text",className:"peer-disabled:cursor-not-allowed peer-disabled:opacity-70 block text-sm font-medium mb-3 text-gray-700 dark:text-[#c7d3d9]",children:"Paste Your Contract Text"}),(0,a.jsx)(c.T,{id:"contract-text",ref:I,value:N,onChange:e=>w(e.target.value),className:"w-full h-40 resize-none",placeholder:s?"Please accept the consent banner below to paste text...":"Paste your contract or terms of service here...",disabled:s,"aria-describedby":"text-input-description","aria-invalid":S&&""===N.trim()?"true":"false"}),(0,a.jsx)("p",{id:"text-input-description",className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"You can paste any contract or legal document text here for analysis."})]}),(0,a.jsx)(n.$,{onClick:P,className:"w-full mt-6 bg-primary text-white hover:bg-primary/90",disabled:y||!N.trim(),"aria-describedby":"text-submit-description",children:y?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.A,{className:"w-4 h-4 mr-2 animate-spin","aria-hidden":"true"}),(0,a.jsx)("span",{children:"Processing..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.A,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Analyze Document"]})}),(0,a.jsx)("p",{id:"text-submit-description",className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:"Click to analyze the pasted text content"})]}),!b()&&(0,a.jsxs)("div",{className:"lg:w-1/2",children:[(0,a.jsx)("h3",{className:"text-2xl font-semibold mb-6 text-gray-900 dark:text-[#c7d3d9]",children:"What You'll Get"}),(0,a.jsxs)("div",{className:"space-y-4",role:"list","aria-label":"Analysis features",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-secondary/10 rounded-lg",role:"listitem",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-secondary rounded-full flex items-center justify-center flex-shrink-0","aria-hidden":"true",children:(0,a.jsx)(x.A,{className:"w-4 h-4 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-1 text-gray-900 dark:text-[#c7d3d9]",children:"Plain English Summary"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Complex legal jargon translated into clear, understandable language"})]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-secondary/10 rounded-lg",role:"listitem",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-secondary rounded-full flex items-center justify-center flex-shrink-0","aria-hidden":"true",children:(0,a.jsx)(h.A,{className:"w-4 h-4 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-1 text-gray-900 dark:text-[#c7d3d9]",children:"Key Risk Highlights"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Important clauses and potential issues flagged for your attention"})]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-secondary/10 rounded-lg",role:"listitem",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-secondary rounded-full flex items-center justify-center flex-shrink-0","aria-hidden":"true",children:(0,a.jsx)(u.A,{className:"w-4 h-4 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-1 text-gray-900 dark:text-[#c7d3d9]",children:"Actionable Insights"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Specific recommendations and things to watch out for"})]})]})]})]})]}),(0,a.jsxs)("div",{id:"file-upload-status",className:"sr-only","aria-live":"polite","aria-atomic":"true",children:[y&&"File upload in progress",T&&"File uploaded successfully",S&&"Upload error: ".concat(S)]})]})})}var N=s(88145),w=s(75525),j=s(1243),k=s(54861),S=s(81284),A=s(32919),T=s(17951),E=s(70333),C=s(26597),I=s(16862);class F{addNewPageIfNeeded(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.4;this.currentY+e>this.pageHeight-.6&&(this.doc.addPage(),this.currentY=.75)}async addLogo(){try{let e=new Image;e.crossOrigin="anonymous",await new Promise((t,s)=>{e.onload=()=>{try{let s=document.createElement("canvas"),a=s.getContext("2d");if(!a)throw Error("Canvas context not available");let r=this.highQuality?3:2;s.width=e.width*r,s.height=e.height*r,a.imageSmoothingEnabled=!0,a.imageSmoothingQuality="high",a.fillStyle="rgba(255, 255, 255, 0.98)",a.fillRect(0,0,s.width,s.height),a.shadowColor="rgba(0, 0, 0, 0.1)",a.shadowBlur=3*r,a.shadowOffsetX=+r,a.shadowOffsetY=+r,a.scale(r,r),a.drawImage(e,0,0);let n=s.toDataURL("image/jpeg",this.highQuality?.95:.85);this.doc.addImage(n,"JPEG",this.leftMargin,this.currentY,.45,.45),t()}catch(e){s(e)}},e.onerror=()=>s(Error("Failed to load image")),e.src="/og-image.png"})}catch(e){this.doc.setFillColor(59,130,246),this.doc.roundedRect(this.leftMargin,this.currentY,.45,.45,.04,.04,"F"),this.doc.setFillColor(99,150,255),this.doc.roundedRect(this.leftMargin+.02,this.currentY+.02,.45-.04,.225,.02,.02,"F"),this.doc.setTextColor(255,255,255),this.doc.setFontSize(10),this.doc.setFont("helvetica","bold"),this.doc.text("RMFP",this.leftMargin+.225,this.currentY+.225+.05,{align:"center"})}this.currentY+=.55}addHeader(e){this.doc.setTextColor(30,58,138),this.doc.setFontSize(24),this.doc.setFont("helvetica","bold"),this.doc.text("ReadMyFinePrint",this.leftMargin+.55,this.currentY-.25),this.doc.setTextColor(71,85,105),this.doc.setFontSize(12),this.doc.setFont("helvetica","normal"),this.doc.text("Professional Document Analysis Report",this.leftMargin+.55,this.currentY-.05),this.doc.setTextColor(100,116,139),this.doc.setFontSize(10),this.doc.setFont("helvetica","normal");let t=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});this.doc.text("Generated: ".concat(t),this.pageWidth-this.rightMargin,this.currentY-.25,{align:"right"}),this.currentY+=.5,this.doc.setDrawColor(226,232,240),this.doc.setLineWidth(.01),this.doc.line(this.leftMargin,this.currentY,this.pageWidth-this.rightMargin,this.currentY),this.doc.setDrawColor(241,245,249),this.doc.setLineWidth(.005),this.doc.line(this.leftMargin,this.currentY+.02,this.pageWidth-this.rightMargin,this.currentY+.02),this.currentY+=.35,this.doc.setTextColor(15,23,42),this.doc.setFontSize(18),this.doc.setFont("helvetica","bold");let s=this.doc.splitTextToSize(e.title,this.contentWidth-.2);this.doc.text(s,this.leftMargin,this.currentY),this.currentY+=.25*s.length+.2,this.doc.setTextColor(71,85,105),this.doc.setFontSize(11),this.doc.setFont("helvetica","normal");let a=e.content.split(" ").length,r=e.fileType?e.fileType.toUpperCase():"TEXT",n=new Date().toLocaleDateString();this.doc.text("".concat(a.toLocaleString()," words • ").concat(r," document • Analyzed on ").concat(n),this.leftMargin,this.currentY),this.currentY+=.5}addOverallRisk(e){this.addNewPageIfNeeded(1),this.doc.setFontSize(16),this.doc.setFont("helvetica","bold"),this.doc.setTextColor(15,23,42),this.doc.text("RISK ASSESSMENT",this.leftMargin,this.currentY),this.currentY+=.5;let t={low:{color:[34,197,94],bgColor:[240,253,244],text:"LOW RISK",symbol:"SAFE"},moderate:{color:[245,158,11],bgColor:[255,251,235],text:"MODERATE RISK",symbol:"CAUTION"},high:{color:[239,68,68],bgColor:[254,242,242],text:"HIGH RISK",symbol:"WARNING"}},s=t[e.overallRisk]||t.moderate;this.doc.setFillColor(s.bgColor[0],s.bgColor[1],s.bgColor[2]),this.doc.roundedRect(this.leftMargin,this.currentY,this.contentWidth,.7,.05,.05,"F"),this.doc.setFillColor(s.color[0],s.color[1],s.color[2]),this.doc.roundedRect(this.leftMargin+.15,this.currentY+.15,2.5,.4,.05,.05,"F"),this.doc.setTextColor(255,255,255),this.doc.setFontSize(12),this.doc.setFont("helvetica","bold"),this.doc.text("[".concat(s.symbol,"] ").concat(s.text),this.leftMargin+1.4,this.currentY+.38,{align:"center"}),this.doc.setTextColor(s.color[0],s.color[1],s.color[2]),this.doc.setFontSize(10),this.doc.setFont("helvetica","normal");let a=this.getRiskDescription(e.overallRisk),r=this.doc.splitTextToSize(a,this.contentWidth-3);this.doc.text(r,this.leftMargin+2.8,this.currentY+.3),this.currentY+=.9}getRiskDescription(e){switch(e){case"low":return"Document appears to have standard, fair terms with minimal concerns.";case"moderate":return"Some terms require attention. Review recommended before proceeding.";case"high":return"Significant concerns identified. Careful review strongly advised.";default:return"Risk level assessment completed."}}addSummary(e){this.addNewPageIfNeeded(1.5),this.doc.setTextColor(15,23,42),this.doc.setFontSize(16),this.doc.setFont("helvetica","bold"),this.doc.text("EXECUTIVE SUMMARY",this.leftMargin,this.currentY),this.currentY+=.5,this.doc.setTextColor(51,65,85),this.doc.setFontSize(11),this.doc.setFont("helvetica","normal");let t=this.doc.splitTextToSize(e.summary,this.contentWidth-.3),s=t.length*this.lineHeight+.4;this.doc.setFillColor(248,250,252),this.doc.roundedRect(this.leftMargin,this.currentY,this.contentWidth,s,.05,.05,"F");let a=this.currentY+.2;t.forEach(e=>{this.doc.text(e,this.leftMargin+.15,a),a+=this.lineHeight}),this.currentY+=s+.5}addKeyFindings(e){this.addNewPageIfNeeded(2),this.doc.setTextColor(15,23,42),this.doc.setFontSize(16),this.doc.setFont("helvetica","bold"),this.doc.text("KEY FINDINGS",this.leftMargin,this.currentY),this.currentY+=.6,e.keyFindings.goodTerms.length>0&&this.addFindingsSection("[+] Positive Terms",e.keyFindings.goodTerms,[34,197,94],[240,253,244]),e.keyFindings.reviewNeeded.length>0&&this.addFindingsSection("[!] Requires Review",e.keyFindings.reviewNeeded,[245,158,11],[255,251,235]),e.keyFindings.redFlags.length>0&&this.addFindingsSection("[X] Red Flags",e.keyFindings.redFlags,[239,68,68],[254,242,242])}addFindingsSection(e,t,s,a){this.addNewPageIfNeeded(.8),this.doc.setFillColor(a[0],a[1],a[2]),this.doc.roundedRect(this.leftMargin,this.currentY,this.contentWidth,.35,.03,.03,"F"),this.doc.setTextColor(s[0],s[1],s[2]),this.doc.setFontSize(12),this.doc.setFont("helvetica","bold"),this.doc.text(e,this.leftMargin+.15,this.currentY+.23),this.currentY+=.5,this.doc.setTextColor(51,65,85),this.doc.setFontSize(10),this.doc.setFont("helvetica","normal"),t.forEach(e=>{this.addNewPageIfNeeded(.4),this.doc.setFillColor(s[0],s[1],s[2]),this.doc.circle(this.leftMargin+.12,this.currentY+.08,.02,"F");let t=this.doc.splitTextToSize(e,this.contentWidth-.4),a=this.currentY+.12;t.forEach(e=>{this.doc.text(e,this.leftMargin+.25,a),a+=this.lineHeight}),this.currentY+=t.length*this.lineHeight+this.paragraphSpacing}),this.currentY+=.3}addDetailedSections(e){this.addNewPageIfNeeded(.8),this.doc.setFontSize(16),this.doc.setFont("helvetica","bold"),this.doc.setTextColor(15,23,42),this.doc.text("DETAILED ANALYSIS",this.leftMargin,this.currentY),this.currentY+=.6,e.sections.forEach((e,t)=>{let s=this.calculateSectionHeight(e);this.addNewPageIfNeeded(s+.2),this.doc.setFillColor(249,250,251),this.doc.roundedRect(this.leftMargin,this.currentY,this.contentWidth,s,.05,.05,"F"),this.doc.setFontSize(14),this.doc.setFont("helvetica","bold"),this.doc.setTextColor(15,23,42);let a="".concat(t+1,". ").concat(e.title),r=this.doc.splitTextToSize(a,this.contentWidth-.3),n=this.currentY+.25;r.forEach(e=>{this.doc.text(e,this.leftMargin+.15,n),n+=.2}),this.currentY+=.2*r.length+.2;let i={low:{color:[34,197,94],text:"LOW",symbol:"SAFE"},moderate:{color:[245,158,11],text:"MODERATE",symbol:"CAUTION"},high:{color:[239,68,68],text:"HIGH",symbol:"WARNING"}},o=i[e.riskLevel]||i.moderate;this.doc.setFillColor(o.color[0],o.color[1],o.color[2]),this.doc.roundedRect(this.leftMargin+.15,this.currentY,1.8,.25,.03,.03,"F"),this.doc.setTextColor(255,255,255),this.doc.setFont("helvetica","bold"),this.doc.setFontSize(8),this.doc.text("[".concat(o.symbol,"] ").concat(o.text," RISK"),this.leftMargin+1.05,this.currentY+.16,{align:"center"}),this.currentY+=.4,this.doc.setTextColor(51,65,85),this.doc.setFontSize(10),this.doc.setFont("helvetica","normal");let l=this.doc.splitTextToSize(e.summary,this.contentWidth-.3),c=this.currentY;l.forEach(e=>{this.doc.text(e,this.leftMargin+.15,c),c+=this.lineHeight}),this.currentY+=l.length*this.lineHeight+.25,e.concerns&&e.concerns.length>0&&(this.doc.setTextColor(220,38,38),this.doc.setFontSize(11),this.doc.setFont("helvetica","bold"),this.doc.text("[!] Concerns:",this.leftMargin+.15,this.currentY),this.currentY+=.25,this.doc.setTextColor(51,65,85),this.doc.setFontSize(9),this.doc.setFont("helvetica","normal"),e.concerns.forEach(e=>{this.addNewPageIfNeeded(.3),this.doc.setFillColor(220,38,38),this.doc.circle(this.leftMargin+.25,this.currentY+.08,.015,"F");let t=this.doc.splitTextToSize(e,this.contentWidth-.5),s=this.currentY+.1;t.forEach(e=>{this.doc.text(e,this.leftMargin+.35,s),s+=this.lineHeight}),this.currentY+=t.length*this.lineHeight+this.paragraphSpacing})),this.currentY+=.5})}calculateSectionHeight(e){let t=.2*Math.ceil(e.title.length/45)+.2;return t+(Math.ceil(e.summary.length/70)*this.lineHeight+.25)+(e.concerns?.3*e.concerns.length+e.concerns.length*this.paragraphSpacing+.4:0)+.8}async addQRCode(e){try{let t=await I.toDataURL(e,{width:this.highQuality?120:80,margin:2,color:{dark:"#1e293b",light:"#ffffff"},errorCorrectionLevel:"M"});this.addNewPageIfNeeded(1.8),this.doc.setFillColor(239,246,255),this.doc.roundedRect(this.leftMargin,this.currentY,this.contentWidth,1.5,.1,.1,"F"),this.doc.setFontSize(14),this.doc.setFont("helvetica","bold"),this.doc.setTextColor(29,78,216),this.doc.text("SUPPORT OUR MISSION",this.leftMargin+.15,this.currentY+.25),this.doc.setFontSize(10),this.doc.setFont("helvetica","normal"),this.doc.setTextColor(51,65,85),this.doc.text("Help us keep legal document analysis free and accessible for everyone.",this.leftMargin+.15,this.currentY+.45),this.doc.text("Scan the QR code or visit the link below to make a donation:",this.leftMargin+.15,this.currentY+.65);let s=this.highQuality?.8:.6;this.doc.addImage(t,"PNG",this.leftMargin+.15,this.currentY+.8,s,s),this.doc.setFontSize(8),this.doc.setTextColor(75,85,99),this.doc.setFont("helvetica","normal"),this.doc.text(e,this.leftMargin+1,this.currentY+1.2),this.currentY+=1.7}catch(t){console.error("Failed to generate QR code:",t),this.addNewPageIfNeeded(.8),this.doc.setFillColor(239,246,255),this.doc.roundedRect(this.leftMargin,this.currentY,this.contentWidth,.7,.1,.1,"F"),this.doc.setFontSize(12),this.doc.setFont("helvetica","bold"),this.doc.setTextColor(29,78,216),this.doc.text("SUPPORT OUR MISSION",this.leftMargin+.15,this.currentY+.25),this.doc.setFontSize(9),this.doc.setFont("helvetica","normal"),this.doc.setTextColor(51,65,85),this.doc.text("Help us continue providing free document analysis tools.",this.leftMargin+.15,this.currentY+.45),this.doc.text("Visit: ".concat(e),this.leftMargin+.15,this.currentY+.6),this.currentY+=.9}}addFooter(){let e=this.doc.internal.getNumberOfPages();for(let t=1;t<=e;t++)this.doc.setPage(t),this.doc.setDrawColor(203,213,225),this.doc.setLineWidth(.005),this.doc.line(this.leftMargin,this.pageHeight-.5,this.pageWidth-this.rightMargin,this.pageHeight-.5),this.doc.setDrawColor(241,245,249),this.doc.setLineWidth(.003),this.doc.line(this.leftMargin,this.pageHeight-.48,this.pageWidth-this.rightMargin,this.pageHeight-.48),this.doc.setTextColor(100,116,139),this.doc.setFontSize(8),this.doc.setFont("helvetica","normal"),this.doc.text("Generated by ReadMyFinePrint • Professional Document Analysis",this.leftMargin,this.pageHeight-.35),this.doc.setTextColor(148,163,184),this.doc.setFontSize(8),this.doc.setFont("helvetica","normal"),this.doc.text("Page ".concat(t," of ").concat(e),this.pageWidth-this.rightMargin,this.pageHeight-.35,{align:"right"}),this.doc.setTextColor(100,116,139),this.doc.setFontSize(7),this.doc.text("www.readmyfineprint.com",this.pageWidth-this.rightMargin,this.pageHeight-.25,{align:"right"})}async exportToPDF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{includeHeader:s=!0,includeLogo:a=!0,includeQRCode:r=!0,donateUrl:n=window.location.origin+"/donate",highQuality:i=!0}=t;if(this.highQuality=i,!e.analysis)throw Error("Document analysis is required for PDF export");let o=e.analysis;try{a&&await this.addLogo(),s&&this.addHeader(e),this.addOverallRisk(o),this.addSummary(o),this.addKeyFindings(o),this.addDetailedSections(o),r&&await this.addQRCode(n),this.addFooter();let t=new Date().toISOString().slice(0,10),i=e.title.replace(/[^a-z0-9]/gi,"_").toLowerCase().slice(0,50),l="".concat(i,"_analysis_").concat(t,".pdf");this.doc.save(l)}catch(e){throw console.error("PDF export failed:",e),Error("Failed to generate enhanced PDF export: ".concat(e instanceof Error?e.message:"Unknown error"))}}constructor(e={}){var t;this.currentY=.75,this.leftMargin=.75,this.rightMargin=.75,this.lineHeight=.18,this.paragraphSpacing=.12,this.highQuality=!0,this.doc=new C.Ay({orientation:"portrait",unit:"in",format:"letter",compress:!e.highQuality,precision:e.highQuality?3:2}),this.highQuality=null==(t=e.highQuality)||t,this.pageWidth=this.doc.internal.pageSize.getWidth(),this.pageHeight=this.doc.internal.pageSize.getHeight(),this.leftMargin=.75,this.rightMargin=.75,this.contentWidth=this.pageWidth-this.leftMargin-this.rightMargin,this.doc.setProperties({title:"Document Analysis Report",subject:"Legal Document Analysis by ReadMyFinePrint",author:"ReadMyFinePrint",creator:"ReadMyFinePrint Analysis Tool"})}}async function R(e,t){let s=new F({highQuality:null==t?void 0:t.highQuality});await s.exportToPDF(e,t)}var D=s(49026),L=s(28883),P=s(19420),M=s(81586),O=s(4516),Y=s(71007),q=s(69074),z=s(47863),U=s(66474),W=s(78749),H=s(92657);function Q(e){let{redactionInfo:t,className:s=""}=e,[r,i]=(0,o.useState)(!1),[c,d]=(0,o.useState)(!1),[h,u]=(0,o.useState)(!1);if((0,o.useEffect)(()=>{(async()=>{try{let t=await fetch("/api/user/subscription",{credentials:"include"});if(t.ok){var e;let s=(null==(e=(await t.json()).subscription)?void 0:e.tierId)||"free",a=["professional","business","enterprise","ultimate"];u(a.includes(s)),console.log("\uD83D\uDD0D PII Component: User tier: ".concat(s,", Professional access (PII): ").concat(a.includes(s)))}else u(!1),console.log("\uD83D\uDD0D PII Component: No subscription found, defaulting to free tier")}catch(e){console.error("Error checking user tier:",e),u(!1)}})()},[]),!h)return(0,a.jsxs)(D.Fc,{className:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 ".concat(s),children:[(0,a.jsx)(w.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsxs)(D.TN,{className:"text-green-700 dark:text-green-300",children:[(0,a.jsx)("span",{className:"font-medium",children:"Document analyzed successfully."})," Your document has been processed safely."," ",(0,a.jsxs)("span",{className:"text-xs",children:["(Enhanced PII protection details available with ",(0,a.jsx)("a",{href:"/subscription",className:"underline hover:no-underline",children:"Professional tier"}),")"]})]})]});if(!t.hasRedactions)return(0,a.jsxs)(D.Fc,{className:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 ".concat(s),children:[(0,a.jsx)(w.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsxs)(D.TN,{className:"text-green-700 dark:text-green-300",children:[(0,a.jsx)("span",{className:"font-medium",children:"No sensitive information detected."})," Your document was automatically scanned and analyzed safely."]})]});let m=e=>{switch(e){case"email":return(0,a.jsx)(L.A,{className:"h-4 w-4"});case"phone":return(0,a.jsx)(P.A,{className:"h-4 w-4"});case"creditCard":return(0,a.jsx)(M.A,{className:"h-4 w-4"});case"address":return(0,a.jsx)(O.A,{className:"h-4 w-4"});case"name":return(0,a.jsx)(Y.A,{className:"h-4 w-4"});case"dob":return(0,a.jsx)(q.A,{className:"h-4 w-4"});case"ssn":return(0,a.jsx)(A.A,{className:"h-4 w-4"});default:return(0,a.jsx)(j.A,{className:"h-4 w-4"})}},x=e=>{switch(e){case"ssn":return"Social Security Number";case"creditCard":return"Credit Card";case"email":return"Email Address";case"phone":return"Phone Number";case"address":return"Address";case"name":return"Name";case"dob":return"Date of Birth";default:return"Sensitive Data"}},g=(e=>{let t=new Map;for(let s of e){let e=s.type;t.has(e)||t.set(e,[]),t.get(e).push(s)}return t})(t.matches);return(0,a.jsxs)(l.Zp,{className:"border-orange-200 dark:border-orange-800 ".concat(s),children:[(0,a.jsxs)(l.aR,{className:"pb-3",children:[(0,a.jsxs)(l.ZB,{className:"flex items-center space-x-2 text-orange-700 dark:text-orange-300",children:[(0,a.jsx)(w.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Privacy Protection Active"})]}),(0,a.jsxs)(D.Fc,{className:"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800",children:[(0,a.jsx)(A.A,{className:"h-4 w-4 text-orange-600"}),(0,a.jsxs)(D.TN,{className:"text-orange-700 dark:text-orange-300",children:[(0,a.jsxs)("span",{className:"font-medium",children:[t.matches.length," sensitive item",1!==t.matches.length?"s":""," detected and protected."]})," ","Your personal information was automatically redacted before AI analysis to ensure maximum privacy protection."]})]})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:Array.from(g.keys()).map(e=>{let t=g.get(e);return(0,a.jsx)(N.E,{variant:"outline",className:"".concat((e=>{switch(e){case"ssn":case"creditCard":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/20 dark:text-red-300 dark:border-red-800";case"email":case"phone":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/20 dark:text-orange-300 dark:border-orange-800";case"address":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-300 dark:border-yellow-800";case"name":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-800";case"dob":return"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/20 dark:text-purple-300 dark:border-purple-800";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900/20 dark:text-gray-300 dark:border-gray-800"}})(e)," border"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[m(e),(0,a.jsxs)("span",{children:[x(e)," (",t.length,")"]})]})},e)})}),(0,a.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>i(!r),className:"w-full flex items-center justify-center space-x-2",children:[r?(0,a.jsx)(z.A,{className:"h-4 w-4"}):(0,a.jsx)(U.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:r?"Hide Details":"Show Details"})]}),r&&(0,a.jsxs)("div",{className:"space-y-4 pt-2 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Redacted Information:"}),(0,a.jsxs)(n.$,{variant:"ghost",size:"sm",onClick:()=>d(!c),className:"flex items-center space-x-1 text-xs",children:[c?(0,a.jsx)(W.A,{className:"h-3 w-3"}):(0,a.jsx)(H.A,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:[c?"Hide":"Show"," Values"]})]})]}),(0,a.jsx)("div",{className:"space-y-3",children:Array.from(g.entries()).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center space-x-2",children:[m(t),(0,a.jsx)("span",{children:x(t)})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-2 ml-6",children:s.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 rounded border",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(N.E,{variant:"secondary",className:"text-xs",children:e.placeholder}),(0,a.jsxs)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["(Confidence: ",Math.round(100*e.confidence),"%)"]})]}),c&&(0,a.jsx)("span",{className:"text-sm font-mono bg-yellow-100 dark:bg-yellow-900/20 px-2 py-1 rounded border",children:e.value})]},t))})]},t)})}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 pt-2 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("strong",{children:"Protection Details:"}),(0,a.jsxs)("ul",{className:"mt-1 space-y-1",children:[(0,a.jsx)("li",{children:"• Automatic scanning for SSNs, credit cards, emails, phones, addresses, and names"}),(0,a.jsxs)("li",{children:["• High-confidence detection threshold: ",Math.round(100*t.detectionSettings.minConfidence),"%"]}),(0,a.jsx)("li",{children:"• Enterprise-grade privacy protection applied to all documents"})]})]}),(0,a.jsxs)(D.Fc,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:[(0,a.jsx)(w.A,{className:"h-4 w-4 text-blue-600"}),(0,a.jsxs)(D.TN,{className:"text-blue-700 dark:text-blue-300 text-xs",children:[(0,a.jsx)("strong",{children:"How it works:"})," Every document is automatically scanned for sensitive information before AI analysis. We replace any detected PII with secure placeholders, send only the redacted version for analysis, then restore the original information in your results. Your sensitive data is always protected and never exposed to external AI services."]})]})]})]})})]})}var $=s(54059),G=s(9428),V=s(53999);let _=o.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)($.bL,{className:(0,V.cn)("grid gap-2",s),...r,ref:t})});_.displayName=$.bL.displayName;let B=o.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)($.q7,{ref:t,className:(0,V.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...r,children:(0,a.jsx)($.C1,{className:"flex items-center justify-center",children:(0,a.jsx)(G.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});B.displayName=$.q7.displayName;var K=s(93199),X=s(60760),J=s(1978);let Z={ssn:"Social Security Number",email:"Email Address",phone:"Phone Number",creditCard:"Credit Card",address:"Address",name:"Personal Name",dob:"Date of Birth",custom:"Other PII",attorney_client:"Attorney-Client Privileged"},ee={regex:"Pattern Matching",context:"Context Analysis",fuzzy:"Fuzzy Matching",composite:"Multiple Methods",llm:"AI Analysis"},et={high:"bg-green-100 text-green-800 border-green-200",medium:"bg-yellow-100 text-yellow-800 border-yellow-200",low:"bg-red-100 text-red-800 border-red-200"};function es(e){var t;let{detection:s,onFeedbackSubmit:r,documentType:i}=e,[h,u]=(0,o.useState)(!1),[m,x]=(0,o.useState)(null),[g,p]=(0,o.useState)(3),[y,f]=(0,o.useState)(""),[b,v]=(0,o.useState)(!1),[w,k]=(0,o.useState)(!1),[S,A]=(0,o.useState)(!1),T=(t=s.confidence)>=.8?"high":t>=.6?"medium":"low",C=async()=>{if(m){v(!0);try{await r({detectionId:s.id,vote:m,confidence:g,reason:y.trim()||void 0}),k(!0)}catch(e){console.error("Failed to submit feedback:",e)}finally{v(!1)}}};return(0,a.jsxs)(l.Zp,{className:"mb-4 border-l-4 border-l-blue-500",children:[(0,a.jsxs)(l.aR,{className:"pb-3",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)(l.ZB,{className:"text-lg flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:s.detectedText}),(0,a.jsxs)(N.E,{className:"".concat(et[T]," text-xs"),children:[Math.round(100*s.confidence),"% confident"]})]}),(0,a.jsxs)(l.BT,{className:"mt-2 flex items-center gap-2",children:[(0,a.jsxs)("span",{children:["Detected as: ",(0,a.jsx)("strong",{children:Z[s.type]})]}),(0,a.jsx)("span",{className:"text-gray-400",children:"•"}),(0,a.jsxs)("span",{children:["Method: ",ee[s.detectionMethod]]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[s.context&&(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>A(!S),className:"text-gray-500",children:S?(0,a.jsx)(W.A,{className:"h-4 w-4"}):(0,a.jsx)(H.A,{className:"h-4 w-4"})}),(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>u(!h),className:"text-blue-600",children:h?"Hide Feedback":"Give Feedback"})]})]}),(0,a.jsx)(X.N,{children:S&&s.context&&(0,a.jsxs)(J.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 p-3 bg-gray-50 rounded-md text-sm",children:[(0,a.jsx)(d.J,{className:"text-xs font-medium text-gray-600",children:"Context:"}),(0,a.jsx)("p",{className:"mt-1 text-gray-700 font-mono",children:s.context})]})})]}),(0,a.jsx)(X.N,{children:h&&(0,a.jsxs)(J.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[(0,a.jsx)(l.Wu,{className:"pt-0",children:w?(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 text-green-600 bg-green-50 px-4 py-2 rounded-full",children:[(0,a.jsx)(E.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Thank you for your feedback!"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Your input helps improve our PII detection accuracy."})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{className:"text-sm font-medium",children:"Was this detection correct?"}),(0,a.jsxs)(_,{value:m||"",onValueChange:e=>x(e),className:"mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(B,{value:"correct",id:"correct"}),(0,a.jsxs)(d.J,{htmlFor:"correct",className:"flex items-center gap-2",children:[(0,a.jsx)(E.A,{className:"h-4 w-4 text-green-600"}),"Correct - This is actual PII"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(B,{value:"incorrect",id:"incorrect"}),(0,a.jsxs)(d.J,{htmlFor:"incorrect",className:"flex items-center gap-2",children:[(0,a.jsx)(K.A,{className:"h-4 w-4 text-red-600"}),"Incorrect - This is not PII"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(B,{value:"partially_correct",id:"partially_correct"}),(0,a.jsxs)(d.J,{htmlFor:"partially_correct",className:"flex items-center gap-2",children:[(0,a.jsx)(j.A,{className:"h-4 w-4 text-yellow-600"}),"Partially correct - Close but not quite right"]})]})]})]}),m&&(0,a.jsxs)(J.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(d.J,{className:"text-sm font-medium",children:["How confident are you in this assessment? (",g,"/5)"]}),(0,a.jsx)("div",{className:"mt-2 flex items-center gap-2",children:[1,2,3,4,5].map(e=>(0,a.jsx)(n.$,{variant:g>=e?"default":"outline",size:"sm",onClick:()=>p(e),className:"w-8 h-8 p-0",children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"reason",className:"text-sm font-medium",children:"Additional feedback (optional)"}),(0,a.jsx)(c.T,{id:"reason",placeholder:"Help us understand why this detection was correct/incorrect...",value:y,onChange:e=>f(e.target.value),className:"mt-2",rows:3,maxLength:500}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[y.length,"/500 characters"]})]})]})]})}),!w&&m&&(0,a.jsx)(l.wL,{className:"pt-0",children:(0,a.jsx)(n.$,{onClick:C,disabled:b,className:"w-full",children:b?"Submitting...":"Submit Feedback"})})]})})]})}function ea(e){let{detections:t,documentType:s,onFeedbackSubmit:r,className:i=""}=e,[l,c]=(0,o.useState)(!1),[d,h]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{(async()=>{try{let t=localStorage.getItem("subscriptionToken");if(!t)return void h(!1);let s=await fetch("/api/user/subscription",{headers:{"x-subscription-token":t},credentials:"include"});if(s.ok){var e;let t=(null==(e=(await s.json()).subscription)?void 0:e.tierId)||"free";h(["professional","business","enterprise","ultimate"].includes(t))}else h(!1)}catch(e){console.error("Error checking user tier:",e),h(!1)}})()},[]),0!==t.length&&d)?(0,a.jsxs)("div",{className:"mt-6 ".concat(i),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"PII Detection Feedback"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Help us improve by rating the accuracy of these ",t.length," PII detection",1!==t.length?"s":""]})]}),(0,a.jsx)(n.$,{variant:l?"outline":"default",onClick:()=>c(!l),className:"flex items-center gap-2",children:l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(W.A,{className:"h-4 w-4"}),"Hide Feedback"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(H.A,{className:"h-4 w-4"}),"Review Detections"]})})]}),(0,a.jsx)(X.N,{children:l&&(0,a.jsxs)(J.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-md border border-blue-200",children:[(0,a.jsx)("strong",{children:"Privacy Notice:"})," Your feedback is anonymous and helps improve our PII detection accuracy. No personal information is stored with your feedback."]}),t.map(e=>(0,a.jsx)(es,{detection:e,onFeedbackSubmit:r,documentType:s},e.id))]})})]}):null}function er(e){let{document:t}=e,[s,r]=(0,o.useState)(!1),[i,c]=(0,o.useState)("high"),[d,h]=(0,o.useState)("free"),[u,m]=(0,o.useState)(!1),y=t.analysis,{toast:f}=(0,p.dj)();(0,o.useEffect)(()=>{(async()=>{try{let t=await fetch("/api/user/subscription",{credentials:"include"});if(t.ok){var e;let s=(null==(e=(await t.json()).subscription)?void 0:e.tierId)||"free";h(s);let a=["starter","professional","business","enterprise","ultimate"];m(a.includes(s)),console.log("\uD83D\uDD0D Analysis Component: User tier: ".concat(s,", PDF Export access: ").concat(a.includes(s)))}else h("free"),m(!1),console.log("\uD83D\uDD0D Analysis Component: No subscription found, defaulting to free tier")}catch(e){console.error("Error checking user tier:",e),h("free"),m(!1)}})()},[]);let b=(0,o.useMemo)(()=>{var e;if(!(null==(e=t.redactionInfo)?void 0:e.matches))return[];let s="doc_".concat(t.id,"_").concat(Date.now());return t.redactionInfo.matches.map((e,a)=>({id:"".concat(s,"_").concat(a),type:e.type,detectedText:e.value,confidence:e.confidence,detectionMethod:"composite",context:t.content.substring(Math.max(0,e.start-50),Math.min(t.content.length,e.end+50)),startIndex:e.start,endIndex:e.end}))},[t]),v=async e=>{try{let s=b.find(t=>t.id===e.detectionId);if(!s)throw Error("Detection not found");await (0,g.Zh)({detectionSessionId:s.id.split("_").slice(0,-1).join("_"),detectedText:s.detectedText,detectionType:s.type,detectionMethod:s.detectionMethod,confidence:s.confidence,context:s.context,userVote:e.vote,feedbackConfidence:e.confidence,feedbackReason:e.reason,documentType:"contract",documentLength:t.content.length}),f({title:"Feedback submitted",description:"Thank you for helping improve our PII detection accuracy!"})}catch(e){console.error("Failed to submit PII feedback:",e),f({title:"Failed to submit feedback",description:"Please try again later.",variant:"destructive"})}};if(!y)return(0,a.jsx)(l.Zp,{className:"p-8",children:(0,a.jsxs)(l.Wu,{className:"text-center space-y-4",children:[(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Analysis is being processed or not yet available for this document."}),(0,a.jsx)(n.$,{onClick:()=>window.location.reload(),variant:"outline",size:"sm",children:"Refresh Page"})]})});let C=e=>{switch(e){case"low":return(0,a.jsx)(w.A,{className:"w-5 h-5 text-secondary"});case"moderate":return(0,a.jsx)(j.A,{className:"w-5 h-5 text-warning"});case"high":return(0,a.jsx)(k.A,{className:"w-5 h-5 text-danger"});default:return(0,a.jsx)(S.A,{className:"w-5 h-5 text-gray-500"})}},I=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;if(!u)return void f({title:"Starter Tier Required",description:"PDF export is available for Starter tier and above. Please upgrade your subscription.",variant:"destructive"});try{r(!0),await R(t,{includeHeader:!0,includeLogo:!0,includeQRCode:!0,donateUrl:window.location.origin+"/donate",highQuality:"high"===e})}catch(s){console.error("PDF export failed:",s);let e="\nDocument Analysis Report\n========================\n\nDocument: ".concat(t.title,"\nGenerated: ").concat(new Date().toLocaleString(),"\nOverall Assessment: ").concat(y.overallRisk.toUpperCase()," RISK\n\nEXECUTIVE SUMMARY\n=================\n").concat(y.summary,"\n\nKEY FINDINGS\n============\n\n[+] Positive Terms:\n").concat(y.keyFindings.goodTerms.map(e=>"• ".concat(e)).join("\n"),"\n\n[!] Requires Review:\n").concat(y.keyFindings.reviewNeeded.map(e=>"• ".concat(e)).join("\n"),"\n\n[X] Red Flags:\n").concat(y.keyFindings.redFlags.map(e=>"• ".concat(e)).join("\n"),"\n\nDETAILED ANALYSIS\n=================\n").concat(y.sections.map((e,t)=>"\n".concat(t+1,". ").concat(e.title," (").concat(e.riskLevel.toUpperCase()," RISK)\n").concat("-".repeat(e.title.length+5),"\n").concat(e.summary,"\n").concat(e.concerns&&e.concerns.length>0?"\n[!] Concerns:\n"+e.concerns.map(e=>"• ".concat(e)).join("\n"):"","\n")).join("\n"),"\n\nReport generated by ReadMyFinePrint\nVisit: www.readmyfineprint.com\nSupport our mission: ").concat(window.location.origin+"/donate","\n      ");if(window.document){let s=new Blob([e],{type:"text/plain"}),a=URL.createObjectURL(s),r=window.document.createElement("a");r.href=a;let n=new Date().toISOString().slice(0,10),i=t.title.replace(/[^a-z0-9]/gi,"_").toLowerCase().slice(0,50);r.download="".concat(i,"_analysis_").concat(n,".txt"),window.document.body.appendChild(r),r.click(),window.document.body.removeChild(r),URL.revokeObjectURL(a)}}finally{r(!1)}};return(0,a.jsx)(l.Zp,{className:"p-3 sm:p-4 lg:p-6 mb-6",children:(0,a.jsxs)(l.Wu,{className:"p-0",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3 mb-4",children:[(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white",children:"Analysis Complete"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1 line-clamp-2",children:[t.title," - ",t.content.split(" ").length," words analyzed"]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2 flex-shrink-0",children:(0,a.jsx)(n.$,{onClick:()=>I(),disabled:s||!u,className:"flex items-center space-x-2 bg-secondary text-white hover:bg-secondary/90 disabled:opacity-50 text-sm px-3 py-2 h-9 ".concat(u?"":"cursor-not-allowed"),title:u?"":"Starter tier or higher required for PDF export",children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-3 h-3 animate-spin rounded-full border-2 border-white/30 border-t-white"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"high"===i?"Generating HQ...":"Generating..."}),(0,a.jsx)("span",{className:"sm:hidden",children:"PDF..."})]}):u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.A,{className:"w-3 h-3"}),(0,a.jsxs)("span",{className:"hidden sm:inline",children:["Export PDF ","high"===i?"(HQ)":""]}),(0,a.jsx)("span",{className:"sm:hidden",children:"PDF"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"PDF Export (Starter+)"}),(0,a.jsx)("span",{className:"sm:hidden",children:"Starter+"}),(0,a.jsx)(T.A,{className:"w-2 h-2 text-orange-400"})]})})})]}),t.redactionInfo&&(0,a.jsx)(Q,{redactionInfo:t.redactionInfo,className:"mb-4 sm:mb-5"}),b.length>0&&(0,a.jsx)(ea,{detections:b,documentType:"contract",onFeedbackSubmit:v,className:"mb-4 sm:mb-5"}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-secondary/10 to-primary/10 rounded-lg p-3 sm:p-4 mb-4 sm:mb-5",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-3 mb-2 sm:mb-3",children:[(0,a.jsx)("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-secondary rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:C(y.overallRisk)}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("h4",{className:"text-base font-semibold text-gray-900 dark:text-white",children:"Overall Assessment"}),(0,a.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:["Risk Level:"," ",(0,a.jsx)("span",{className:"font-medium ".concat("low"===y.overallRisk?"text-secondary dark:text-secondary":"moderate"===y.overallRisk?"text-warning dark:text-warning":"text-danger dark:text-danger"),children:y.overallRisk.charAt(0).toUpperCase()+y.overallRisk.slice(1)})]})]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:y.summary})]}),(0,a.jsxs)("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[(0,a.jsxs)("div",{className:"bg-secondary/5 dark:bg-secondary/10 border border-secondary/20 dark:border-secondary/30 rounded-lg p-3 sm:p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)(E.A,{className:"text-secondary w-4 h-4 flex-shrink-0"}),(0,a.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Good Terms"})]}),(0,a.jsx)("ul",{className:"space-y-1 text-xs text-gray-700 dark:text-gray-300",children:y.keyFindings.goodTerms.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,a.jsx)("span",{className:"w-1.5 h-1.5 bg-secondary rounded-full mt-2 flex-shrink-0"}),(0,a.jsx)("span",{children:e})]},t))})]}),(0,a.jsxs)("div",{className:"bg-warning/5 dark:bg-warning/10 border border-warning/20 dark:border-warning/30 rounded-lg p-3 sm:p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)(j.A,{className:"text-warning w-4 h-4 flex-shrink-0"}),(0,a.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Review Needed"})]}),(0,a.jsx)("ul",{className:"space-y-1 text-xs text-gray-700 dark:text-gray-300",children:y.keyFindings.reviewNeeded.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,a.jsx)("span",{className:"w-1.5 h-1.5 bg-warning rounded-full mt-2 flex-shrink-0"}),(0,a.jsx)("span",{children:e})]},t))})]}),(0,a.jsxs)("div",{className:"bg-danger/5 dark:bg-danger/10 border border-danger/20 dark:border-danger/30 rounded-lg p-3 sm:p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)(k.A,{className:"text-danger w-4 h-4 flex-shrink-0"}),(0,a.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Red Flags"})]}),(0,a.jsx)("ul",{className:"space-y-1 text-xs text-gray-700 dark:text-gray-300",children:y.keyFindings.redFlags.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,a.jsx)("span",{className:"w-1.5 h-1.5 bg-danger rounded-full mt-2 flex-shrink-0"}),(0,a.jsx)("span",{children:e})]},t))})]})]}),(0,a.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2",children:"Detailed Breakdown"}),y.sections.map((e,t)=>(0,a.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gray-50 dark:bg-gray-800 px-3 sm:px-4 py-2 sm:py-3 border-b border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-start sm:items-center justify-between gap-2",children:[(0,a.jsx)("h5",{className:"font-semibold text-gray-900 dark:text-white text-sm line-clamp-2 flex-1 min-w-0",children:e.title}),(0,a.jsx)(N.E,{className:"".concat((e=>{switch(e){case"low":return"bg-secondary/20 text-secondary";case"moderate":return"bg-warning/20 text-warning";case"high":return"bg-danger/20 text-danger";default:return"bg-gray-200 text-gray-700"}})(e.riskLevel)," text-[10px] px-1.5 py-0.5 flex-shrink-0"),children:e.riskLevel.charAt(0).toUpperCase()+e.riskLevel.slice(1)})]})}),(0,a.jsxs)("div",{className:"p-3 sm:p-4 bg-white dark:bg-gray-900",children:[(0,a.jsxs)("div",{className:"mb-2 sm:mb-3",children:[(0,a.jsx)("h6",{className:"font-medium text-gray-900 dark:text-white mb-1 text-xs",children:"Plain English Summary:"}),(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-300 text-xs leading-relaxed",children:e.summary})]}),e.concerns&&e.concerns.length>0&&(0,a.jsx)("div",{className:"border-l-4 p-2 sm:p-3 rounded-r ".concat("high"===e.riskLevel?"bg-danger/5 dark:bg-danger/10 border-danger":"moderate"===e.riskLevel?"bg-warning/5 dark:bg-warning/10 border-warning":"bg-secondary/5 dark:bg-secondary/10 border-secondary"),children:(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:C(e.riskLevel)}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-xs mb-1 ".concat("high"===e.riskLevel?"text-danger dark:text-danger":"moderate"===e.riskLevel?"text-warning dark:text-warning":"text-secondary dark:text-secondary"),children:"high"===e.riskLevel?"Important Concern:":"moderate"===e.riskLevel?"Important Note:":"Good to Know:"}),(0,a.jsx)("ul",{className:"text-gray-700 dark:text-gray-300 text-xs space-y-0.5",children:e.concerns.map((e,t)=>(0,a.jsxs)("li",{className:"leading-relaxed",children:["• ",e]},t))})]})]})})]})]},t))]})]})})}let en=[{id:"problematic-lease",title:"Problematic Residential Lease",type:"Rental Agreement",description:"Educational example with many illegal and unconscionable terms",riskLevel:"high",content:'RESIDENTIAL LEASE AGREEMENT - PROBLEMATIC VERSION\n\nProperty: 789 Shady Lane, Unit 4C, Apartment Complex, Anywhere, USA 12345\n\nPARTIES: Exploitative Property Management LLC ("Landlord") and [Tenant Name] ("Tenant")\n\nWARNING: This is an example of a PROBLEMATIC lease with many unfavorable terms for educational purposes only.\n\n1. LEASE TERM AND AUTOMATIC RENEWAL\n- Initial Term: 12 months starting January 1, 2025\n- AUTOMATIC RENEWAL: This lease automatically renews for successive 12-month periods unless Tenant provides 120 days written notice via certified mail. Failure to provide proper notice results in automatic renewal at 25% increased rent.\n- NO EARLY TERMINATION: Tenant cannot terminate lease early under any circumstances, including job loss, medical emergencies, military deployment, or domestic violence situations.\n\n2. RENT AND EXCESSIVE FEES\n- Monthly Rent: $2,800 (subject to immediate increase without notice)\n- Application Fee: $500 (non-refundable even if application denied)\n- Security Deposit: $5,600 (two months rent, fully non-refundable)\n- Pet Deposit: $1,500 per pet (non-refundable, even if no pets)\n- Key Fee: $200 per key (non-refundable)\n- Parking Fee: $300/month (mandatory even if no car)\n- Amenity Fee: $250/month (mandatory for gym/pool access)\n- Technology Fee: $75/month (for basic internet)\n- Trash Fee: $50/month\n- Water/Sewer Fee: $125/month\n- HVAC Maintenance Fee: $100/month\n- Pest Control Fee: $40/month\n- Administrative Fee: $150/month\n- Late Fee: $200 if rent is even 1 day late\n- Returned Check Fee: $150 per occurrence\n- Notice Fee: $100 for any notice received from Tenant\n- Inspection Fee: $75 per month for monthly inspections\n\n3. RENT INCREASES AND PAYMENT TERMS\n- Rent may be increased at any time with only 24 hours notice\n- All fees are subject to immediate increase without notice\n- Rent must be paid by certified check or money order only\n- NO PERSONAL CHECKS, credit cards, or electronic payments accepted\n- Payment must be delivered in person to office between 9 AM - 10 AM on first of month\n- Office closed on weekends and holidays (late fees still apply)\n- Partial payments not accepted under any circumstances\n\n4. EXCESSIVE SECURITY DEPOSIT TERMS\n- Security deposit is NON-REFUNDABLE regardless of condition\n- Additional cleaning fee of $500 automatically deducted\n- Carpet replacement fee of $2,000 automatically charged regardless of condition\n- Paint fee of $1,500 per room automatically charged\n- Any wear whatsoever considered damage requiring full replacement\n- Tenant responsible for all costs even if property improvements made\n\n5. PROPERTY USE RESTRICTIONS\n- Absolutely NO GUESTS allowed without prior written approval (minimum 72 hours notice)\n- Guest approval fee: $100 per guest per night\n- NO overnight guests under any circumstances\n- NO cooking with oil, garlic, or strong spices\n- NO music, television, or talking above whisper level after 8 PM\n- NO use of air conditioning between 6 PM - 8 AM\n- NO opening windows at any time\n- NO rearranging furniture from original positions\n- NO hanging pictures or decorations\n- NO plants or flowers of any kind\n- Mandatory bed time of 10 PM on weekdays, 11 PM weekends\n\n6. LANDLORD ACCESS AND PRIVACY VIOLATIONS\n- Landlord may enter at any time without notice for any reason\n- Tenant must provide copy of all keys to Landlord\n- Landlord may inspect personal belongings at any time\n- Security cameras will be installed in all rooms for "safety"\n- Tenant must provide passwords to all devices and social media accounts\n- Landlord may bring prospective tenants/buyers through unit daily\n- No locks may be changed or added by Tenant\n\n7. MAINTENANCE AND REPAIR OBLIGATIONS\n- Tenant responsible for ALL repairs regardless of cause, including:\n  • Structural damage from earthquakes, floods, acts of God\n  • Appliance replacement including refrigerator, stove, washer/dryer\n  • HVAC system repairs and replacement\n  • Roof repairs and replacement\n  • Plumbing including main line blockages\n  • Electrical system including rewiring\n  • Foundation repairs\n  • Pest infestations including termites\n- Tenant must use only Landlord-approved contractors (at premium rates)\n- Emergency repairs require Landlord approval (even for burst pipes/gas leaks)\n- Tenant liable for improvements and upgrades made to property\n\n8. UNCONSCIONABLE LIABILITY AND INSURANCE\n- Tenant liable for unlimited damages to property and other units\n- Tenant must carry $5,000,000 liability insurance naming Landlord as beneficiary\n- Tenant liable for all injuries on entire property premises\n- Tenant responsible for legal fees if anyone sues Landlord about property\n- Landlord has no liability for anything including death or injury\n- Tenant waives all rights to sue Landlord for any reason\n\n9. TERMINATION AND HOLDOVER PENALTIES\n- Only Landlord may terminate lease, Tenant has no termination rights\n- 3-day notice for any violation (including late fees)\n- Holdover rent charged at 500% of monthly rent per day\n- $10,000 penalty for unauthorized vacation of premises\n- Tenant remains liable for rent even after vacating\n- No right to cure any violations\n\n10. ILLEGAL DISCRIMINATION AND HARASSMENT\n- Preference given to tenants of specific religious backgrounds\n- Different rules apply based on tenant\'s country of origin\n- Pregnant tenants subject to immediate eviction\n- Tenants with service animals charged additional $2,000 monthly fee\n- Background checks include invasive personal questions about medical history\n\n11. UNCONSCIONABLE LEGAL PROVISIONS\n- All disputes must be resolved in arbitration in a remote location 2,000 miles away\n- Tenant pays all Landlord legal fees regardless of outcome\n- Tenant waives all statutory rights and protections\n- This lease governed by laws of fictitious jurisdiction with no tenant protections\n- Any provision deemed illegal simply removed, rest of lease remains fully enforceable\n- Landlord may modify lease terms at any time without notice or consent\n\n12. MISCELLANEOUS EXPLOITATIVE TERMS\n- Tenant grants Landlord power of attorney for all personal decisions\n- Tenant\'s personal property becomes Landlord\'s property upon any lease violation\n- Tenant must maintain property insurance that only benefits Landlord\n- All communications with Landlord must be through expensive legal service\n- Tenant responsible for property taxes and all building operating expenses\n- Must pay Landlord\'s mortgage, insurance, and management company fees\n\n13. MOVE-OUT REQUIREMENTS\n- 180-day advance notice required for move-out\n- Professional cleaning required (Landlord chooses company at $2,500 minimum)\n- All items must be removed except those Landlord wants to keep\n- Tenant must repaint all walls to original color (but Landlord won\'t specify color)\n- Must replace all light bulbs, batteries in smoke detectors, air filters\n- Carpets must be professionally steam cleaned twice\n- Must pay for complete property inspection by engineer ($5,000)\n\nACKNOWLEDGMENT: By signing below, Tenant acknowledges this lease contains terms that may be illegal, unconscionable, and unenforceable in most jurisdictions. This example is for educational purposes to demonstrate problematic lease provisions.\n\nLANDLORD: Exploitative Property Management LLC\nTENANT: [Tenant Name]\n\nDISCLAIMER: This document contains numerous illegal and unconscionable provisions that would likely be unenforceable. It is provided solely for educational purposes to demonstrate what problematic lease terms look like.'},{id:"saas-tos",title:"SaaS Terms of Service",type:"Terms of Service",description:"Standard software service agreement with common clauses",riskLevel:"moderate",content:'TERMS OF SERVICE\n\nLast updated: December 1, 2024\n\n1. ACCEPTANCE OF TERMS\nBy accessing and using CloudApp Services ("Service"), you accept and agree to be bound by the terms and provision of this agreement.\n\n2. DESCRIPTION OF SERVICE\nCloudApp provides cloud-based software solutions for business management. The Service includes data storage, analytics, and collaboration tools.\n\n3. USER ACCOUNTS\n- You are responsible for maintaining the confidentiality of your account\n- You agree to accept responsibility for all activities under your account\n- You must notify us immediately of any unauthorized use\n\n4. PAYMENT TERMS\n- Subscription fees are billed monthly in advance\n- All fees are non-refundable except as required by law\n- We reserve the right to change pricing with 30 days notice\n- Accounts may be suspended for non-payment after 15 days\n\n5. DATA AND PRIVACY\n- We collect and process data as described in our Privacy Policy\n- You retain ownership of your data\n- We may access your data for service provision and support\n- Data backup and security measures are provided but not guaranteed\n\n6. LIMITATION OF LIABILITY\nTO THE MAXIMUM EXTENT PERMITTED BY LAW, CLOUDAPP SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL OR PUNITIVE DAMAGES, INCLUDING WITHOUT LIMITATION, LOSS OF PROFITS, DATA, USE, GOODWILL, OR OTHER INTANGIBLE LOSSES.\n\n7. TERMINATION\n- Either party may terminate this agreement at any time with 30 days notice\n- Upon termination, your access will be revoked immediately\n- Data may be deleted after 90 days following termination\n- Surviving clauses include payment obligations and limitation of liability\n\n8. GOVERNING LAW\nThis agreement shall be governed by the laws of Delaware, United States. Any disputes shall be resolved through binding arbitration.\n\n9. CHANGES TO TERMS\nWe reserve the right to modify these terms at any time. Continued use after changes constitutes acceptance of new terms.\n\nContact: legal@cloudapp.com'},{id:"employment-contract",title:"Employment Agreement",type:"Employment Contract",description:"Standard employment contract with typical clauses",riskLevel:"low",content:'EMPLOYMENT AGREEMENT\n\nThis Employment Agreement ("Agreement") is entered into between TechCorp Inc. ("Company") and [Employee Name] ("Employee").\n\n1. POSITION AND DUTIES\nEmployee is hired as Software Developer and agrees to perform duties including:\n- Software development and maintenance\n- Code review and testing\n- Documentation and technical support\n- Other duties as reasonably assigned\n\n2. COMPENSATION\n- Base salary: $85,000 annually\n- Performance bonus eligibility up to 15% of base salary\n- Health insurance with 80% company contribution\n- 401(k) with 4% company match\n- 3 weeks paid vacation annually\n\n3. WORKING CONDITIONS\n- Standard work week: 40 hours\n- Flexible remote work options available\n- Office location: 123 Tech Street, San Francisco, CA\n\n4. CONFIDENTIALITY\nEmployee agrees to maintain confidentiality of proprietary information and trade secrets during and after employment.\n\n5. INTELLECTUAL PROPERTY\nWork products created during employment belong to the Company. Employee assigns all rights to inventions related to Company business.\n\n6. TERMINATION\n- Either party may terminate with 2 weeks written notice\n- Company may terminate immediately for cause\n- Upon termination, Employee must return all Company property\n- Final paycheck includes accrued vacation time\n\n7. NON-COMPETE\nEmployee agrees not to work for direct competitors within 50 miles for 6 months after termination.\n\n8. DISPUTE RESOLUTION\nDisputes will be resolved through mediation, then arbitration if necessary.\n\nEffective Date: [Date]\nCompany Representative: [Name, Title]\nEmployee Signature: [Signature]'},{id:"rental-agreement",title:"Residential Lease Agreement",type:"Rental Agreement",description:"Apartment rental lease with standard terms",riskLevel:"high",content:'RESIDENTIAL LEASE AGREEMENT\n\nProperty: 456 Oak Avenue, Apartment 2B, Portland, OR 97201\n\nPARTIES: Sunset Properties LLC ("Landlord") and [Tenant Name] ("Tenant")\n\n1. LEASE TERM\n- Start Date: January 1, 2025\n- End Date: December 31, 2025\n- Month-to-month after initial term unless terminated\n\n2. RENT AND FEES\n- Monthly Rent: $2,400 (due 1st of each month)\n- Late Fee: $150 if rent is more than 5 days late\n- Security Deposit: $2,400 (non-refundable cleaning fee of $200)\n- Pet Deposit: $500 per pet (maximum 2 pets)\n\n3. UTILITIES AND SERVICES\n- Tenant responsible for: electricity, gas, internet, cable\n- Landlord provides: water, sewer, trash collection\n- Utilities must remain in Tenant\'s name throughout lease\n\n4. PROPERTY USE AND RESTRICTIONS\n- Residential use only, maximum 2 occupants\n- No smoking anywhere on property (including balcony)\n- No loud music or parties after 10 PM\n- No alterations without written consent\n- Subletting prohibited without prior approval\n\n5. MAINTENANCE AND REPAIRS\n- Tenant responsible for repairs under $100\n- Landlord responsible for major repairs and appliances\n- 48-hour notice required for non-emergency entry\n- Tenant must report maintenance issues within 24 hours\n\n6. DEPOSIT AND DAMAGES\n- Security deposit held for damages beyond normal wear\n- Landlord has 60 days to return deposit after move-out\n- Tenant liable for all damages regardless of deposit amount\n- Professional cleaning required upon move-out\n\n7. TERMINATION AND PENALTIES\n- 60-day written notice required for termination\n- Early termination fee: 2 months rent\n- Holdover tenancy charged at 150% of monthly rent\n- Landlord may terminate immediately for any lease violation\n\n8. LIABILITY AND INSURANCE\n- Tenant must carry renter\'s insurance minimum $100,000\n- Landlord not liable for theft, damage, or injury on property\n- Tenant liable for all guest actions and damages\n\nContact: manager@sunsetproperties.com\nEmergency: (503) 555-0199'}];function ei(e){let{onSelectContract:t,disabled:s=!1}=e;return(0,a.jsxs)("div",{className:"space-y-6 ".concat(s?"opacity-50 pointer-events-none":""),children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h3",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:"Try Sample Contracts"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Test the analyzer with these example documents to see how it works"})]}),(0,a.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:en.map(e=>(0,a.jsxs)(l.Zp,{className:"hover:shadow-lg transition-shadow",children:[(0,a.jsxs)(l.aR,{className:"pb-3",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)(x.A,{className:"w-8 h-8 text-primary mb-2"}),(0,a.jsxs)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat((e=>{switch(e){case"low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"moderate":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"high":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800"}})(e.riskLevel)),children:[e.riskLevel.charAt(0).toUpperCase()+e.riskLevel.slice(1)," Risk"]})]}),(0,a.jsx)(l.ZB,{className:"text-lg",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.type})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-4 line-clamp-3",children:e.description}),(0,a.jsx)("div",{className:"flex space-x-2",children:(0,a.jsxs)(n.$,{onClick:()=>!s&&t(e.title,e.content),className:"flex-1 bg-primary text-white hover:bg-primary/90",size:"sm",disabled:s,children:[(0,a.jsx)(H.A,{className:"w-4 h-4 mr-2"}),"Analyze"]})})]})]},e.id))}),(0,a.jsxs)("div",{className:"text-center mt-8 p-6 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Why Use Sample Contracts?"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"These examples demonstrate different risk levels and contract types. Each one shows how our system identifies key terms, potential issues, and explains complex language in plain English."})]})]})}var eo=s(55028);function el(){return(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen py-8",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto w-full text-center space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,a.jsx)(i.A,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 animate-spin"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Analyzing Document"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"This usually takes 10-30 seconds"})]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse",style:{width:"60%"}})}),(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-6 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-green-600 dark:text-green-400",children:[(0,a.jsx)(u.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Uploaded"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-blue-600 dark:text-blue-400",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full border-2 border-blue-600 border-t-transparent animate-spin"}),(0,a.jsx)("span",{children:"Processing"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-400 dark:text-gray-500",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300 dark:border-gray-600"}),(0,a.jsx)("span",{children:"Generating"})]})]})]})})}var ec=s(45754),ed=s(71628),eh=s(36130),eu=s(94454),em=s(54416);function ex(e){let{onAccept:t}=e,[s,r]=(0,o.useState)(!1),[i,l]=(0,o.useState)(!0),c=async()=>{r(!0);try{let e=await (0,g.rh)(),t=new Date().toISOString();localStorage.setItem("readmyfineprint-disclaimer-accepted","true"),localStorage.setItem("readmyfineprint-disclaimer-date",t),localStorage.setItem("cookie-consent-accepted","true"),e.consentId&&e.verificationToken&&(sessionStorage.setItem("readmyfineprint-consent-id",e.consentId),sessionStorage.setItem("readmyfineprint-verification-token",e.verificationToken)),e.success||console.warn("Consent logging warning:",e.message)}catch(e){console.warn("Consent logging failed, but continuing:",e),localStorage.setItem("readmyfineprint-disclaimer-accepted","true"),localStorage.setItem("readmyfineprint-disclaimer-date",new Date().toISOString()),localStorage.setItem("cookie-consent-accepted","true")}finally{r(!1),l(!1),window.dispatchEvent(new CustomEvent("consentChanged")),t()}};return i?(0,a.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm border-t border-gray-200 dark:border-gray-700 shadow-lg",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto p-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-start gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:mt-1",children:[(0,a.jsx)(eu.A,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0"}),(0,a.jsx)(w.A,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0"})]}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Cookie Consent & Terms"}),(0,a.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 leading-relaxed",children:"We use essential cookies for session management and security. By continuing, you agree that this service provides informational summaries only (not legal advice), and we're not liable for decisions made based on these summaries. You can browse and view samples without accepting, but document analysis requires consent."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[(0,a.jsx)(n.$,{onClick:c,disabled:s,size:"sm",className:"text-xs flex-1 sm:flex-initial",children:s?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):"Accept & Continue"}),(0,a.jsx)(n.$,{onClick:()=>{l(!1)},variant:"ghost",size:"sm",className:"text-xs text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 px-2",children:(0,a.jsx)(em.A,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"flex gap-4 mt-3 text-[10px]",children:[(0,a.jsx)("a",{href:"/privacy",className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100",children:"Privacy Policy"}),(0,a.jsx)("a",{href:"/terms",className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100",children:"Terms of Service"})]})]})}):null}var eg=s(6069),ep=s(35695);let ey=(0,o.createContext)(void 0);function ef(e){let{children:t}=e,[s,r]=(0,o.useState)(null),[n,i]=(0,o.useState)(!0),[l,c]=(0,o.useState)(!1),d=async()=>{try{if(i(!0),!(document.cookie.includes("session")||document.cookie.includes("auth")||document.cookie.includes("subscription"))){console.log("\uD83D\uDC64 Anonymous user detected - skipping security questions check"),r(null),c(!1),i(!1);return}console.log("\uD83D\uDD0D Checking security questions status...");let e=await (0,g.Vl)();console.log("\uD83D\uDD0D Security questions response:",{hasSecurityQuestions:e.hasSecurityQuestions,count:e.count,requiresSecurityQuestions:e.requiresSecurityQuestions,userTier:e.userTier}),e.requiresSecurityQuestions?(r(e.hasSecurityQuestions),c(!e.hasSecurityQuestions)):(console.log("✅ ".concat(e.userTier," tier user - security questions not required")),r(null),c(!1))}catch(e){e instanceof Error&&e.message.includes("401")?console.log("\uD83D\uDC64 Anonymous user detected via 401 error - security questions not required"):(console.error("Failed to check security questions:",e),console.log("❌ Failed to check security questions, assuming free tier")),r(null),c(!1)}finally{i(!1)}};return(0,o.useEffect)(()=>{d()},[]),(0,a.jsx)(ey.Provider,{value:{hasSecurityQuestions:s,requiresSetup:l,isLoading:n,checkSecurityQuestions:d,markSetupComplete:()=>{console.log("✅ Marking security questions setup as complete"),r(!0),c(!1)}},children:t})}var eb=s(99840),ev=s(89852),eN=s(51146),ew=s(5196);let ej=eN.bL;eN.YJ;let ek=eN.WT,eS=o.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(eN.l9,{ref:t,className:(0,V.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...n,children:[r,(0,a.jsx)(eN.In,{asChild:!0,children:(0,a.jsx)(U.A,{className:"h-4 w-4 opacity-50"})})]})});eS.displayName=eN.l9.displayName;let eA=o.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eN.PP,{ref:t,className:(0,V.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(z.A,{className:"h-4 w-4"})})});eA.displayName=eN.PP.displayName;let eT=o.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eN.wn,{ref:t,className:(0,V.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(U.A,{className:"h-4 w-4"})})});eT.displayName=eN.wn.displayName;let eE=o.forwardRef((e,t)=>{let{className:s,children:r,position:n="popper",...i}=e;return(0,a.jsx)(eN.ZL,{children:(0,a.jsxs)(eN.UC,{ref:t,className:(0,V.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...i,children:[(0,a.jsx)(eA,{}),(0,a.jsx)(eN.LM,{className:(0,V.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(eT,{})]})})});eE.displayName=eN.UC.displayName,o.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eN.JU,{ref:t,className:(0,V.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=eN.JU.displayName;let eC=o.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(eN.q7,{ref:t,className:(0,V.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(eN.VF,{children:(0,a.jsx)(ew.A,{className:"h-4 w-4"})})}),(0,a.jsx)(eN.p4,{children:r})]})});eC.displayName=eN.q7.displayName,o.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eN.wv,{ref:t,className:(0,V.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=eN.wv.displayName;var eI=s(43453),eF=s(62525);function eR(e){let{onComplete:t,onSkip:s,showSkipOption:c=!1,title:u="Set Up Security Questions",description:m="Security questions help protect your account and can be used for account recovery.",transparent:x=!1}=e,[p,y]=(0,o.useState)([]),[f,b]=(0,o.useState)([{questionId:"",answer:""},{questionId:"",answer:""}]),[v,N]=(0,o.useState)(!1),[j,k]=(0,o.useState)(!0),[S,A]=(0,o.useState)(null),[T,E]=(0,o.useState)(!1);(0,o.useEffect)(()=>{C()},[]);let C=async()=>{try{k(!0);let e=await (0,g.Sf)();y(e.questions)}catch(e){A("Failed to load security questions. Please try again.")}finally{k(!1)}},I=(e,t,s)=>{let a=[...f];a[e][t]=s,b(a),T&&E(!1)},F=async e=>{if(e.preventDefault(),A(null),(()=>{let e=f.filter(e=>e.questionId&&e.answer.trim());if(e.length<2)return A("Please answer at least 2 security questions."),!1;let t=e.map(e=>e.questionId),s=new Set(t);if(t.length!==s.size)return A("Please select different questions for each answer."),!1;for(let t of e){if(t.answer.trim().length<1)return A("Please provide answers for all selected questions."),!1;if(t.answer.length>100)return A("Answers must be 100 characters or less."),!1}return!0})())try{N(!0);let e=f.filter(e=>e.questionId&&e.answer.trim());await (0,g.x0)({questions:e}),E(!0),setTimeout(()=>{null==t||t()},1500)}catch(e){var s,a;A((null==e||null==(a=e.response)||null==(s=a.data)?void 0:s.error)||"Failed to save security questions. Please try again.")}finally{N(!1)}};return j?(0,a.jsx)(l.Zp,{className:"w-full max-w-2xl mx-auto ".concat(x?"bg-transparent border-transparent shadow-none":"bg-white dark:bg-gray-800"),children:(0,a.jsxs)(l.Wu,{className:"flex items-center justify-center py-8 ".concat(x?"bg-transparent":"bg-white dark:bg-gray-800"),children:[(0,a.jsx)(i.A,{className:"h-6 w-6 animate-spin mr-2"}),(0,a.jsx)("span",{children:"Loading security questions..."})]})}):T?(0,a.jsx)(l.Zp,{className:"w-full max-w-2xl mx-auto ".concat(x?"bg-transparent border-transparent shadow-none":"bg-white dark:bg-gray-800"),children:(0,a.jsxs)(l.Wu,{className:"flex flex-col items-center justify-center py-8 text-center ".concat(x?"bg-transparent":"bg-white dark:bg-gray-800"),children:[(0,a.jsx)(eI.A,{className:"h-12 w-12 text-green-500 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Security Questions Saved!"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Your security questions have been set up successfully."})]})}):(0,a.jsxs)(l.Zp,{className:"w-full max-w-2xl mx-auto ".concat(x?"bg-transparent border-transparent shadow-none":"bg-white dark:bg-gray-800"),children:[(0,a.jsxs)(l.aR,{className:"".concat(x?"bg-transparent":"bg-white dark:bg-gray-800"),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(w.A,{className:"h-5 w-5 text-blue-500 dark:text-blue-400"}),(0,a.jsx)(l.ZB,{children:u})]}),(0,a.jsx)(l.BT,{children:m})]}),(0,a.jsx)(l.Wu,{className:"".concat(x?"bg-transparent":"bg-white dark:bg-gray-800"),children:(0,a.jsxs)("form",{onSubmit:F,className:"space-y-6",children:[S&&(0,a.jsxs)(D.Fc,{variant:"destructive",className:"bg-red-50 dark:bg-red-950/20",children:[(0,a.jsx)(h.A,{className:"h-4 w-4"}),(0,a.jsx)(D.TN,{children:S})]}),(0,a.jsx)("div",{className:"space-y-4",children:f.map((e,t)=>(0,a.jsxs)("div",{className:"p-4 border rounded-lg space-y-3 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(d.J,{className:"text-sm font-medium",children:["Security Question ",t+1,t<2&&(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),f.length>2&&(0,a.jsx)(n.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>{f.length>2&&b(f.filter((e,s)=>s!==t))},className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",children:(0,a.jsx)(eF.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)(ej,{value:e.questionId,onValueChange:e=>I(t,"questionId",e),children:[(0,a.jsx)(eS,{className:"bg-white dark:bg-gray-700 text-gray-900 dark:text-white border-gray-300 dark:border-gray-600",children:(0,a.jsx)(ek,{placeholder:"Select a security question",className:"text-gray-900 dark:text-white"})}),(0,a.jsx)(eE,{className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600",children:(e=>{var t;let s=f.map(e=>e.questionId).filter(e=>""!==e),a=null==(t=f[e])?void 0:t.questionId;return p.filter(e=>!s.includes(e.id)||e.id===a)})(t).map(e=>(0,a.jsx)(eC,{value:e.id,className:"text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:e.question},e.id))})]}),e.questionId&&(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"answer-".concat(t),className:"text-sm font-medium",children:"Your Answer"}),(0,a.jsx)(ev.p,{id:"answer-".concat(t),type:"text",value:e.answer,onChange:e=>I(t,"answer",e.target.value),placeholder:"Enter your answer",maxLength:100,className:"mt-1",required:""!==e.questionId}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Answers are not case-sensitive. ",e.answer.length,"/100 characters"]})]})]},t))}),f.length<4&&(0,a.jsxs)(n.$,{type:"button",variant:"outline",onClick:()=>{f.length<4&&b([...f,{questionId:"",answer:""}])},className:"w-full",children:[(0,a.jsx)(r.A,{className:"h-4 w-4 mr-2"}),"Add Another Question (Optional)"]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsx)(n.$,{type:"submit",disabled:v,className:"flex-1",children:v?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.A,{className:"h-4 w-4 animate-spin mr-2"}),"Saving..."]}):"Save Security Questions"}),c&&(0,a.jsx)(n.$,{type:"button",variant:"outline",onClick:()=>{null==s||s()},disabled:v,children:"Skip for Now"})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[(0,a.jsx)("p",{children:"• Answer at least 2 questions (up to 4 maximum)"}),(0,a.jsx)("p",{children:"• Answers are stored securely using strong encryption"}),(0,a.jsx)("p",{children:"• These questions can be used for account recovery"}),(0,a.jsx)("p",{children:"• You can update your questions anytime in your account settings"})]})]})})]})}function eD(e){let{isOpen:t,onComplete:s,onClose:r,title:n="Security Questions Required",description:i="To enhance your account security and continue using our services, please set up security questions.",allowClose:l=!1}=e,[c,d]=(0,o.useState)(null),[u,m]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=()=>{m(window.innerWidth<640)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let x=()=>{d(null),s()};return t?u?(0,a.jsx)("div",{className:"fixed inset-0 z-50 bg-white dark:bg-gray-900",children:(0,a.jsxs)("div",{className:"flex flex-col h-full bg-white dark:bg-gray-900",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-orange-100 dark:bg-orange-900/20",children:(0,a.jsx)(w.A,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})}),(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n})]}),l&&r&&(0,a.jsx)("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",children:(0,a.jsx)(em.A,{className:"h-5 w-5 text-gray-900 dark:text-white"})})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-white dark:bg-gray-900",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:i}),!l&&(0,a.jsxs)(D.Fc,{className:"bg-blue-50 dark:bg-blue-950/20",children:[(0,a.jsx)(h.A,{className:"h-4 w-4"}),(0,a.jsx)(D.TN,{className:"text-gray-700 dark:text-gray-200",children:"Security questions are required to continue. This helps protect your account and enables account recovery options."})]}),c&&(0,a.jsxs)(D.Fc,{variant:"destructive",className:"bg-red-50 dark:bg-red-950/20",children:[(0,a.jsx)(h.A,{className:"h-4 w-4"}),(0,a.jsx)(D.TN,{className:"text-red-700 dark:text-red-200",children:c})]}),(0,a.jsx)(eR,{onComplete:x,onSkip:l?r:void 0,showSkipOption:l,title:"",description:"",transparent:!0})]})]})}):(0,a.jsx)(eb.lG,{open:!0,onOpenChange:l?()=>{l&&r&&r()}:void 0,children:(0,a.jsxs)(eb.Cf,{className:"max-w-2xl max-h-[85vh] overflow-y-auto",onPointerDownOutside:l?void 0:e=>e.preventDefault(),onEscapeKeyDown:l?void 0:e=>e.preventDefault(),children:[(0,a.jsxs)(eb.c7,{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-orange-100 dark:bg-orange-900/20",children:(0,a.jsx)(w.A,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})}),(0,a.jsx)(eb.L3,{className:"text-xl font-semibold",children:n}),(0,a.jsx)(eb.rr,{className:"mt-2",children:i})]}),!l&&(0,a.jsxs)(D.Fc,{className:"mb-4",children:[(0,a.jsx)(h.A,{className:"h-4 w-4"}),(0,a.jsx)(D.TN,{children:"Security questions are required to continue. This helps protect your account and enables account recovery options."})]}),c&&(0,a.jsxs)(D.Fc,{variant:"destructive",className:"mb-4",children:[(0,a.jsx)(h.A,{className:"h-4 w-4"}),(0,a.jsx)(D.TN,{children:c})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(eR,{onComplete:x,onSkip:l?r:void 0,showSkipOption:l,title:"",description:""})})]})}):null}var eL=s(32960),eP=s(5041),eM=s(26715);let eO=(0,eo.default)(()=>Promise.all([s.e(4074),s.e(6966)]).then(s.bind(s,56966)).then(e=>({default:e.DocumentHistory})),{loadableGenerated:{webpack:()=>[56966]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-700 rounded-lg h-32"})});function eY(){let[e,t]=(0,o.useState)(null),[s,l]=(0,o.useState)(!1),[c,d]=(0,o.useState)(!1);(0,ep.usePathname)(),(0,ep.useRouter)();let{toast:h}=(0,p.dj)(),{isAccepted:u}=(0,eh.xF)(),{announce:m}=f(),x=function(){let e=(0,o.useRef)(null);return(0,o.useLayoutEffect)(()=>{if(e.current)return e.current.offsetHeight,e.current.style.transform="translateZ(0)",e.current.style.willChange="transform, opacity",()=>{e.current&&(e.current.style.willChange="auto")}},[]),e}(),{showSecurityQuestionsModal:y,handleApiError:b,handleSecurityQuestionsComplete:N,closeSecurityQuestionsModal:w}=function(){let[e,t]=(0,o.useState)(!1),{checkSecurityQuestions:s,markSetupComplete:a}=function(){let e=(0,o.useContext)(ey);if(void 0===e)throw Error("useSecurityQuestions must be used within a SecurityQuestionsProvider");return e}();(0,o.useEffect)(()=>{let e=()=>{t(!0)};return window.addEventListener("securityQuestionsRequired",e),()=>{window.removeEventListener("securityQuestionsRequired",e)}},[]);let r=(0,o.useCallback)(e=>{var s;if((null==e||null==(s=e.response)?void 0:s.status)===403){let s=e.response.data;if((null==s?void 0:s.code)==="SECURITY_QUESTIONS_REQUIRED"||(null==s?void 0:s.requiresSecurityQuestions))return t(!0),!0}return!1},[]);return{showSecurityQuestionsModal:e,handleApiError:r,handleSecurityQuestionsComplete:(0,o.useCallback)(async()=>{console.log("\uD83D\uDD10 Security questions setup completed"),a(),t(!1);try{await s(),console.log("✅ Security questions status refreshed from server")}catch(e){console.error("❌ Failed to refresh security questions status:",e)}},[s,a]),closeSecurityQuestionsModal:(0,o.useCallback)(()=>{t(!1)},[])}}();(0,o.useEffect)(()=>{let e=()=>{console.log("Consent revoked - enabling gray mode"),d(!0)},t=()=>{u&&d(!1)};return window.addEventListener("consentRevoked",e),window.addEventListener("consentChanged",t),()=>{window.removeEventListener("consentRevoked",e),window.removeEventListener("consentChanged",t)}},[m,h,u]);let{data:j,isLoading:k}=(0,eL.I)({queryKey:["/api/documents",e],queryFn:()=>e?(0,g.YE)(e):null,enabled:!!e,staleTime:1/0,gcTime:1/0,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,notifyOnChangeProps:["data","error"],structuralSharing:!1,retry:(e,s)=>s instanceof Error&&s.message.includes("404")?(t(null),!1):e<3}),S=(0,eP.n)({mutationFn:async e=>{try{let e=await (0,g.c1)();e.queueLength>0&&h({title:"Document queued for analysis",description:"Your document is in the processing queue. ".concat(e.queueLength," documents ahead of you.")})}catch(e){console.warn("Could not get queue status:",e)}return(0,g.IG)(e)},onSuccess:e=>{l(!1),m("Document analysis completed successfully","polite"),h({title:"Analysis complete",description:"Your document has been analyzed successfully."}),eg.qQ.setQueryData(["/api/documents",e.id],e),eg.qQ.invalidateQueries({queryKey:["/api/documents"]})},onError:e=>{if(l(!1),!b(e)){let t=e instanceof Error?e.message:"Failed to analyze document";m("Analysis failed: ".concat(t),"assertive"),h({title:"Analysis failed",description:t,variant:"destructive"})}}}),A=(0,o.useCallback)(async e=>{if(t(e),c&&!u){m("Cannot analyze documents while consent is revoked","assertive"),h({title:"Consent Required",description:"Please accept our terms and conditions to analyze documents",variant:"destructive"});return}let s=eg.qQ.getQueryData(["/api/documents"]),a=null==s?void 0:s.find(t=>t.id===e);if(a&&a.title&&["sample","example","demo","template","residential lease","employment agreement","nda","service agreement","rental agreement"].some(e=>a.title.toLowerCase().includes(e.toLowerCase())),!u){console.log("Document analysis requires consent, triggering consent modal"),window.dispatchEvent(new CustomEvent("consentRequired",{detail:{reason:"Document analysis requires consent"}})),m("Please accept our terms to analyze documents","polite"),h({title:"Consent Required",description:"Please accept our terms and conditions before analyzing any documents",variant:"destructive"});return}l(!0),m("Starting document analysis","polite");try{await S.mutateAsync(e)}catch(e){console.error("Analysis error:",e)}},[S,m,u,c,h,eg.qQ]),T=function(e){let t=(0,o.useRef)(e);return(0,o.useLayoutEffect)(()=>{t.current=e}),(0,o.useCallback)(function(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return t.current(...s)},[])}(e=>{t(e),l(!1),e&&m("Document selected from history","polite")}),E=(0,o.useCallback)(()=>{t(null),l(!1),m("Starting new document analysis","polite")},[m]),C=(0,o.useCallback)(()=>!!localStorage.getItem("subscriptionToken"),[]),I=(0,o.useCallback)(async(e,t)=>{if(!u){let e="Please accept the terms and privacy policy to process any documents, including sample contracts.";m(e,"assertive"),window.dispatchEvent(new CustomEvent("consentRequired",{detail:{reason:"Sample contract processing requires consent"}})),h({title:"Consent Required",description:e,variant:"destructive"});return}try{console.log("Creating sample document:",e);let s=await (0,g.ui)({title:"Sample: ".concat(e),content:t});console.log("Sample document created:",s),await A(s.id)}catch(t){if(console.error("Error with sample contract:",t),b(t))return;let e="Failed to process sample contract";t instanceof Error&&(e=t.message.includes("<!DOCTYPE")||t.message.includes("not valid JSON")?"Server error occurred. Please refresh the page and try again.":t.message.includes("Network")?"Network connection issue. Please check your connection and try again.":t.message),m("Sample contract processing failed: ".concat(e),"assertive"),h({title:"Sample contract failed",description:e,variant:"destructive"})}},[u,h,m,A]);return(0,a.jsx)(eM.Ht,{client:eg.qQ,children:(0,a.jsx)(ef,{children:(0,a.jsxs)("div",{ref:x,className:"bg-gray-50 dark:bg-gray-900 page-transition min-h-screen",children:[(0,a.jsx)(ec.default,{}),(0,a.jsxs)(ed.MobileAppWrapper,{children:[!u&&(0,a.jsx)(ex,{onAccept:()=>{}}),(0,a.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[(0,a.jsx)("section",{"aria-label":"Document history",className:"animate-fade-in-scale",children:(0,a.jsx)(eO,{onSelectDocument:T,currentDocumentId:e})}),!e&&(0,a.jsxs)("section",{className:"text-center mb-12 animate-fade-in-scale",role:"banner","aria-labelledby":"upload-heading",children:[(0,a.jsx)("h1",{id:"upload-heading",className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:"Upload & Analyze Documents"}),(0,a.jsx)("p",{className:"text-lg md:text-xl text-gray-600 dark:text-gray-300 mb-4 max-w-3xl mx-auto",children:"Upload your contracts, agreements, and legal documents to get AI-powered analysis and insights."})]}),!e&&!s&&(0,a.jsxs)("div",{className:"animate-fade-in-scale",children:[(0,a.jsxs)("section",{"aria-labelledby":"upload-section",className:"mb-8",children:[(0,a.jsx)("h2",{id:"upload-section",className:"sr-only",children:"Upload Document"}),(0,a.jsx)(v,{onDocumentCreated:A,disabled:!u,consentAccepted:u})]}),!C()&&(0,a.jsxs)("section",{"aria-labelledby":"samples-section",className:"mb-8",children:[(0,a.jsx)("h2",{id:"samples-section",className:"sr-only",children:"Sample Contracts"}),(0,a.jsx)(ei,{onSelectContract:I,disabled:!1})]})]}),s&&(0,a.jsxs)("section",{"aria-labelledby":"analysis-progress","aria-live":"polite",className:"animate-fade-in-scale flex items-center justify-center min-h-[60vh]",children:[(0,a.jsx)("h2",{id:"analysis-progress",className:"sr-only",children:"Analysis in Progress"}),(0,a.jsx)("div",{className:"w-full max-w-2xl",children:(0,a.jsx)(el,{})})]}),j&&!s&&(0,a.jsxs)("section",{"aria-labelledby":"analysis-results",className:"animate-fade-in-scale",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[(0,a.jsx)("h2",{id:"analysis-results",className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Analysis Results"}),(0,a.jsxs)(n.$,{onClick:E,variant:"outline",className:"flex items-center gap-2","aria-label":"Start a new document analysis",children:[(0,a.jsx)(r.A,{className:"w-4 h-4","aria-hidden":"true"}),"New Analysis"]})]}),(0,a.jsx)(er,{document:j})]}),k&&(0,a.jsxs)("section",{"aria-labelledby":"loading-document","aria-live":"polite",className:"flex justify-center items-center py-12",children:[(0,a.jsx)("h2",{id:"loading-document",className:"sr-only",children:"Loading Document"}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 text-gray-600 dark:text-gray-300",children:[(0,a.jsx)(i.A,{className:"w-6 h-6 animate-spin","aria-hidden":"true"}),(0,a.jsx)("span",{children:"Loading document..."})]})]})]})]}),(0,a.jsx)(eD,{isOpen:y,onComplete:N,onClose:w,allowClose:!1,title:"Security Questions Required",description:"To continue using document analysis features, please set up security questions to help protect your account."})]})})})}},99474:(e,t,s)=>{"use strict";s.d(t,{T:()=>i});var a=s(95155),r=s(12115),n=s(53999);let i=r.forwardRef((e,t)=>{let{className:s,error:r,...i}=e;return(0,a.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-colors resize-y",r&&"border-destructive focus-visible:ring-destructive",s),ref:t,"aria-invalid":r||i["aria-invalid"],...i})});i.displayName="Textarea"}},e=>{e.O(0,[3930,5003,7017,5728,5699,5927,7009,4290,8891,5411,3864,8441,5964,7358],()=>e(e.s=71238)),_N_E=e.O()}]);