exports.id=432,exports.ids=[432],exports.modules={3018:(a,b,c)=>{"use strict";c.d(b,{Fc:()=>i,TN:()=>j});var d=c(60687),e=c(43210),f=c(24224),g=c(96241);let h=(0,f.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),i=e.forwardRef(({className:a,variant:b,...c},e)=>(0,d.jsx)("div",{ref:e,role:"alert",className:(0,g.cn)(h({variant:b}),a),...c}));i.displayName="Alert",e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsx)("h5",{ref:e,className:(0,g.cn)("mb-1 font-medium leading-none tracking-tight",a),...c,children:b})).displayName="AlertTitle";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,g.cn)("text-sm [&_p]:leading-relaxed",a),...b}));j.displayName="AlertDescription"},4462:(a,b,c)=>{"use strict";c.d(b,{ui:()=>h,Sf:()=>j,Vl:()=>k,rh:()=>m,ri:()=>n,bl:()=>d.bl,x0:()=>l,Zh:()=>o,XX:()=>i}),c(42291);var d=c(35201),e=c(81185);class f{static getInstance(){return f.instance||(f.instance=new f),f.instance}constructor(){this.isEnabled=!0,this.reportedErrors=new Set,this.setupGlobalErrorHandlers()}setupGlobalErrorHandlers(){}async reportApiError(a,b,c="GET"){let d=this.determineSeverity(a);await this.reportError({errorType:"api",severity:d,message:`API Error: ${a.message||a.toString()}`,stack:a.stack,additionalContext:{endpoint:b,method:c,status:a.status,statusText:a.statusText,apiError:!0}})}async reportNetworkError(a,b){await this.reportError({errorType:"network",severity:"medium",message:`Network Error: ${a.message||"Connection failed"}`,additionalContext:{url:b,networkError:!0}})}async reportAuthError(a,b){await this.reportError({errorType:"authentication",severity:"medium",message:`Auth Error: ${a}`,additionalContext:{...b,authError:!0}})}async reportError(a){if(this.isEnabled)try{let b,c=this.createErrorHash(a);if(this.reportedErrors.has(c))return;if(this.reportedErrors.add(c),this.reportedErrors.size>100){let a=Array.from(this.reportedErrors);this.reportedErrors=new Set(a.slice(-50))}let d={...a,url:a.url||window.location.href,additionalContext:{...a.additionalContext,userAgent:navigator.userAgent,timestamp:new Date().toISOString(),screenSize:`${window.screen.width}x${window.screen.height}`,viewportSize:`${window.innerWidth}x${window.innerHeight}`}},e=0;for(;e<3;){try{let a=await fetch("/api/errors/report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d),credentials:"include",signal:AbortSignal.timeout(1e4)});if(a.ok)return void console.log("Error reported to admin successfully");console.warn("Failed to report error to admin:",a.status),b=Error(`HTTP ${a.status}`)}catch(a){if(b=a,console.warn(`Error reporting attempt ${e+1} failed:`,a.message),!a.message?.includes("fetch")&&!a.name?.includes("Abort"))break}++e<3&&await new Promise(a=>setTimeout(a,1e3*Math.pow(2,e-1)))}console.error("Failed to report error after all attempts:",b)}catch(a){console.error("Error reporting failed:",a)}}determineSeverity(a){return 401===a.status||403===a.status?"medium":a.status>=500?"high":a.message?.includes("Network Error")||a.message?.includes("Failed to fetch")?"medium":a.message?.includes("TypeError")||a.message?.includes("ReferenceError")?"high":"medium"}createErrorHash(a){return btoa(`${a.errorType}:${a.message}:${a.url}`).substring(0,16)}setEnabled(a){this.isEnabled=a}async reportCriticalError(a,b){await this.reportError({errorType:"frontend",severity:"critical",message:a,additionalContext:{...b,critical:!0}})}}let g=f.getInstance();async function h(a){let b=await (0,d.bl)("/api/documents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!b.ok){let a,c=`Failed to create document: ${b.statusText}`;try{let a=await b.text();try{let b=JSON.parse(a);b.error&&(c=b.error)}catch(b){a.includes("<!DOCTYPE")?c="Server error occurred. Please refresh the page and try again.":a&&(c=a)}}catch(a){console.error("Failed to read error response:",a)}throw a=Error(c),g.reportApiError(a,"/api/documents","POST"),Error(c)}try{let a=await b.text();return JSON.parse(a)}catch(a){throw console.error("Failed to parse JSON response:",a),Error("Server returned invalid response. Please refresh the page and try again.")}}async function i(a){let b=new FormData;b.append("file",a);let c=await (0,d.bl)("/api/documents/upload",{method:"POST",body:b});if(!c.ok)try{let a=await c.text();try{let b=JSON.parse(a);throw Error(b.error||a)}catch(b){throw Error(a||`Upload failed: ${c.statusText}`)}}catch(a){throw Error(`Upload failed: ${c.statusText}`)}try{return await c.json()}catch(a){throw console.error("Failed to parse upload response:",a),Error("Server returned invalid response. Please try again.")}}async function j(){let a=await fetch("/api/security-questions/available",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!a.ok)try{let b=await a.text();try{let c=JSON.parse(b);throw Error(c.error||`HTTP error! status: ${a.status}`)}catch(c){throw Error(b||`HTTP error! status: ${a.status}`)}}catch(b){throw Error(`HTTP error! status: ${a.status}`)}try{return await a.json()}catch(a){throw console.error("Failed to parse security questions response:",a),Error("Server returned invalid response. Please try again.")}}async function k(){let a=await fetch("/api/security-questions/user",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!a.ok)try{let b=await a.text();try{let c=JSON.parse(b);throw Error(c.error||`HTTP error! status: ${a.status}`)}catch(c){throw Error(b||`HTTP error! status: ${a.status}`)}}catch(b){throw Error(`HTTP error! status: ${a.status}`)}try{return await a.json()}catch(a){throw console.error("Failed to parse getUserSecurityQuestions response:",a),Error("Server returned invalid response. Please try again.")}}async function l(a){let b=await (0,e.fd)("/api/security-questions/setup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!b.ok)try{let a=await b.text();try{let c=JSON.parse(a);throw Error(c.error||`HTTP error! status: ${b.status}`)}catch(c){throw Error(a||`HTTP error! status: ${b.status}`)}}catch(a){throw Error(`HTTP error! status: ${b.status}`)}try{return await b.json()}catch(a){throw console.error("Failed to parse setupSecurityQuestions response:",a),Error("Server returned invalid response. Please try again.")}}async function m(){try{let a=(0,d.lo)();console.log(`API: Logging consent with session: ${a.substring(0,16)}...`);let b=await (0,d.bl)("/api/consent",{method:"POST",headers:{"Content-Type":"application/json"}});if(!b.ok)try{let a=await b.text();try{let b=JSON.parse(a);throw Error(b.error||"Failed to log consent")}catch(b){throw Error(a||"Failed to log consent")}}catch(a){throw Error("Failed to log consent")}try{return await b.json()}catch(a){throw console.error("Failed to parse logConsent response:",a),Error("Server returned invalid response. Please try again.")}}catch(a){return console.warn("Consent logging failed:",a),{success:!1,message:"Consent logging failed, but you can continue using the service"}}}async function n(){try{let a,b=await (0,e.fd)("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!b.ok)try{let a=await b.text();try{let b=JSON.parse(a);throw Error(b.error||"Logout request failed")}catch(b){throw Error(a||"Logout request failed")}}catch(a){throw Error("Logout request failed")}try{a=await b.json()}catch(b){console.error("Failed to parse logout response:",b),a={success:!0,message:"Logout successful (response parse failed)",details:{tokensRevoked:0,documentsCleared:!0,sessionCleared:!0}}}return localStorage.removeItem("subscriptionToken"),(0,d.q7)(),console.log("\uD83D\uDEAA Logout successful:",a),a}catch(a){return console.error("Failed to logout:",a),localStorage.removeItem("subscriptionToken"),(0,d.q7)(),{success:!1,message:"Logout completed locally (server cleanup may have failed)",details:{tokensRevoked:0,documentsCleared:!1,sessionCleared:!0}}}}async function o(a){let b=(0,d.lo)(),c=await (0,e.fd)("/api/rlhf/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...a,sessionId:b})});if(!c.ok){let a=`Failed to submit feedback: ${c.statusText}`;try{let b=await c.text();try{let c=JSON.parse(b);c.error&&(a=c.error)}catch(c){b&&(a=b)}}catch(a){}throw Error(a)}try{return await c.json()}catch(a){throw console.error("Failed to parse submitPiiDetectionFeedback response:",a),Error("Server returned invalid response. Please try again.")}}},14961:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>k,metadata:()=>j});var d=c(37413),e=c(59258),f=c.n(e);c(82704);var g=c(53310),h=c(27182),i=c(36920);let j={title:"ReadMyFinePrint - Privacy-First AI Contract Analysis",description:"Privacy-first AI-powered contract analysis platform. Upload and analyze contracts securely with advanced PII protection and legal compliance."};function k({children:a}){return(0,d.jsxs)("html",{lang:"en",className:`${f().className} font-sans`,suppressHydrationWarning:!0,children:[(0,d.jsxs)("head",{children:[(0,d.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, viewport-fit=cover"}),(0,d.jsx)("meta",{name:"theme-color",content:"#ffffff"}),(0,d.jsx)("meta",{name:"theme-color",content:"#0f172a",media:"(prefers-color-scheme: dark)"})]}),(0,d.jsx)("body",{className:"min-h-screen bg-background text-foreground antialiased",children:(0,d.jsx)(g.ThemeProvider,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!1,children:(0,d.jsxs)("div",{className:"flex min-h-screen flex-col mobile-scroll-container",children:[(0,d.jsx)(h.Header,{}),(0,d.jsx)("main",{className:"flex-1 overflow-auto mobile-scroll-container",children:a}),(0,d.jsx)(i.Footer,{})]})})})]})}},23850:(a,b,c)=>{"use strict";c.d(b,{Header:()=>L});var d=c(60687),e=c(43210),f=c(85814),g=c.n(f),h=c(16189),i=c(24934),j=c(92363),k=c(99891),l=c(82080),m=c(84027),n=c(40083),o=c(67760),p=c(363),q=c(21134),r=c(11860),s=c(12941),t=c(4462),u=c(71702),v=c(35201),w=c(81185),x=c(42291);let y=c(10218).D;var z=c(61037),A=c(68988),B=c(55192),C=c(3018),D=c(41550),E=c(93613),F=c(41862),G=c(98712);function H(){let a=localStorage.getItem("deviceFingerprint");if(a&&a.startsWith("fp_"))return a;let b=function(){try{let a=[`${screen.width}x${screen.height}`,Intl.DateTimeFormat().resolvedOptions().timeZone,navigator.language,navigator.platform,navigator.userAgent.match(/(?:Chrome|Firefox|Safari|Edge)\/[\d.]+/)?.[0]||"unknown",function(){let a=document.createElement("canvas").getContext("2d");if(!a)return"no-canvas";let b="16px",c="mmmmmmmmmmlli";a.font=`${b} monospace`;let d=a.measureText(c).width;return["Arial","Times","Courier","Helvetica","Georgia"].filter(e=>(a.font=`${b} ${e}, monospace`,a.measureText(c).width!==d)).length.toString()}(),screen.colorDepth.toString()],b=btoa(a.join("|")).slice(0,32);return`fp_${b}`}catch(a){return console.warn("Could not generate device fingerprint:",a),`fp_unknown_${Date.now()}`}}();return localStorage.setItem("deviceFingerprint",b),b}function I({onSuccess:a,onCancel:b}){let[c,f]=(0,e.useState)("email"),[g,h]=(0,e.useState)(""),[l,m]=(0,e.useState)(""),[n,o]=(0,e.useState)(!1),[p,q]=(0,e.useState)(null),[s,t]=(0,e.useState)(null),[u,v]=(0,e.useState)(null),w=async a=>{if(a.preventDefault(),!g||!g.includes("@"))return void q("Please enter a valid email address");o(!0),q(null);try{let a=await fetch("/api/subscription/login/request-code",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-Device-Fingerprint":H()},body:JSON.stringify({email:g})}),b=await a.json();if(!a.ok)return void(404===a.status||b.error?.includes("No subscription found")?q("No subscription found for this email address. Please check your email or subscribe first."):403===a.status||b.error?.includes("No active subscription")?q("Your subscription is inactive or expired. You can still login to manage your account and renew your subscription."):429===a.status?q("Too many attempts. Please wait a few minutes before trying again."):q(b.error||"Unable to send verification code. Please try again or contact support."));b.success?(t(new Date(b.expiresAt)),f("verification"),console.log("Verification code sent to email")):q(b.error||"Failed to send verification code. Please try again.")}catch(a){console.error("Email verification request error:",a),a instanceof TypeError&&a.message.includes("Failed to fetch")?q("Network error. Please check your connection and try again."):q("An unexpected error occurred. Please try again or contact support.")}finally{o(!1)}},x=async b=>{if(b.preventDefault(),!l||6!==l.length)return void q("Please enter the 6-digit verification code");o(!0),q(null);try{let b,c=await fetch("/api/subscription/login/verify",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-Device-Fingerprint":H()},body:JSON.stringify({email:g,code:l})});if(!c.ok){let a;try{a=await c.json()}catch(a){throw console.error("Failed to parse error response:",a),Error(`HTTP ${c.status}: ${c.statusText}`)}if("number"==typeof a.attemptsRemaining&&v(a.attemptsRemaining),400===c.status&&a.error)throw Error(a.error);if(429===c.status)throw Error("Too many verification attempts. Please request a new code.");if(c.status>=500)throw Error("Server error. Please try again in a moment.");else throw Error(a.error||`Verification failed (${c.status})`)}try{b=await c.json()}catch(a){throw console.error("Failed to parse success response:",a),Error("Invalid response from server. Please try again.")}if(b.success)console.log("Successfully logged into subscription"),b.tokens?.access&&(localStorage.setItem("jwt_access_token",b.tokens.access),localStorage.setItem("jwt_refresh_token",b.tokens.refresh),console.log("Stored JWT tokens for fallback authentication")),window.dispatchEvent(new CustomEvent("authStateChanged")),a(b.tokens?.access||"",b.subscription);else throw Error(b.error||"Login failed")}catch(a){if(console.error("Verification error:",a),a instanceof TypeError&&a.message.includes("Failed to fetch"))q("Network connection failed. Please check your internet connection and try again.");else if(a instanceof Error){let b=a.message;a.message.includes("Invalid verification code")?b="The verification code you entered is incorrect. Please check and try again.":a.message.includes("expired")?b="Your verification code has expired. Please request a new one.":a.message.includes("Too many")?b="Too many incorrect attempts. Please request a new verification code.":a.message.includes("Network error")||a.message.includes("fetch")?b="Connection problem. Please check your internet and try again.":a.message.includes("Server error")||a.message.includes("500")?b="Our servers are experiencing issues. Please try again in a moment.":a.message&&"Error {}"!==a.message&&""!==a.message.trim()&&"[object Object]"!==a.toString()||(b="Verification failed. Please check your code and try again, or request a new verification code."),q(b)}else if("object"==typeof a&&null!==a){let b=JSON.stringify(a);"{}"===b||"null"===b?q("Verification failed. Please check your code and try again, or request a new verification code."):q("An unexpected error occurred. Please try entering the code again.")}else q("An unexpected error occurred. Please try again.")}finally{o(!1)}},y=()=>{f("email"),m(""),q(null),v(null),t(null)};return"email"===c?(0,d.jsxs)(B.Zp,{className:"w-full max-w-md mx-auto relative",children:[b&&(0,d.jsx)("button",{onClick:b,className:"absolute top-4 right-4 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors z-10","aria-label":"Close login modal",children:(0,d.jsx)(r.A,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"})}),(0,d.jsxs)(B.aR,{children:[(0,d.jsxs)(B.ZB,{className:"flex items-center space-x-2",children:[(0,d.jsx)(D.A,{className:"h-5 w-5"}),(0,d.jsx)("span",{children:"Login to Your Account"})]}),(0,d.jsx)(B.BT,{children:"Enter the email address you used when subscribing to log into your account from this device."})]}),(0,d.jsxs)(B.Wu,{children:[(0,d.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,d.jsx)("div",{children:(0,d.jsx)(A.p,{type:"email",placeholder:"Enter your email address",value:g,onChange:a=>h(a.target.value),disabled:n,className:"text-foreground placeholder:text-muted-foreground bg-background border-input",style:{color:"var(--foreground)"}})}),p&&(0,d.jsxs)(C.Fc,{variant:"destructive",children:[(0,d.jsx)(E.A,{className:"h-4 w-4"}),(0,d.jsxs)(C.TN,{children:[p,p.includes("Network")&&(0,d.jsxs)("div",{className:"mt-2 text-sm",children:[(0,d.jsx)("p",{children:"Try these steps:"}),(0,d.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[(0,d.jsx)("li",{children:"Check your internet connection"}),(0,d.jsx)("li",{children:"Refresh the page and try again"}),(0,d.jsx)("li",{children:"Contact support if the problem persists"})]})]})]})]}),(0,d.jsx)("div",{className:"flex space-x-2",children:(0,d.jsx)(i.$,{type:"submit",disabled:n||!g,className:"w-full",children:n?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(F.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending Code..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(D.A,{className:"mr-2 h-4 w-4"}),"Send Verification Code"]})})}),(0,d.jsxs)("div",{className:"space-y-2 mt-4",children:[(0,d.jsxs)(i.$,{type:"button",variant:"secondary",className:"w-full",onClick:()=>window.location.href="/subscription?tab=plans",disabled:n,children:[(0,d.jsx)(j.A,{className:"mr-2 h-4 w-4 text-yellow-600"}),"Subscribe Now"]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,d.jsx)("span",{className:"w-full border-t"})}),(0,d.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,d.jsx)("span",{className:"bg-background dark:bg-gray-800 px-2 text-muted-foreground",children:"Need help?"})})]}),(0,d.jsxs)(i.$,{type:"button",variant:"outline",className:"w-full",onClick:()=>window.location.href="/email-recovery",disabled:n,children:[(0,d.jsx)(D.A,{className:"mr-2 h-4 w-4"}),"Can't access your email?"]})]})]}),(0,d.jsxs)("div",{className:"mt-4 text-sm text-muted-foreground",children:[(0,d.jsxs)("p",{children:["\uD83D\uDD12 ",(0,d.jsx)("strong",{children:"Secure Login"})]}),(0,d.jsx)("p",{children:"We'll send a verification code to your email to securely log you in."})]})]})]}):(0,d.jsxs)(B.Zp,{className:"w-full max-w-md mx-auto relative",children:[b&&(0,d.jsx)("button",{onClick:b,className:"absolute top-4 right-4 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors z-10","aria-label":"Close login modal",children:(0,d.jsx)(r.A,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"})}),(0,d.jsxs)(B.aR,{children:[(0,d.jsxs)(B.ZB,{className:"flex items-center space-x-2",children:[(0,d.jsx)(k.A,{className:"h-5 w-5"}),(0,d.jsx)("span",{children:"Enter Verification Code"})]}),(0,d.jsxs)(B.BT,{children:["We sent a 6-digit code to ",(0,d.jsx)("strong",{children:g}),". Enter it below to access your subscription."]})]}),(0,d.jsxs)(B.Wu,{children:[(0,d.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,d.jsx)("div",{children:(0,d.jsx)(A.p,{type:"text",placeholder:"000000",value:l,onChange:a=>m(a.target.value.replace(/\D/g,"").slice(0,6)),disabled:n,className:"text-center text-2xl font-mono tracking-wider text-foreground placeholder:text-muted-foreground bg-background border-input",style:{color:"var(--foreground)"},maxLength:6})}),p&&(0,d.jsxs)(C.Fc,{variant:"destructive",children:[(0,d.jsx)(E.A,{className:"h-4 w-4"}),(0,d.jsxs)(C.TN,{children:[p,null!==u&&u>0&&(0,d.jsxs)("span",{className:"block mt-1",children:[u," attempt",1!==u?"s":""," remaining"]}),0===u&&(0,d.jsx)("div",{className:"mt-2",children:(0,d.jsx)(i.$,{type:"button",variant:"outline",size:"sm",onClick:y,className:"text-xs",children:"Request New Code"})})]})]}),(0,d.jsx)("div",{className:"flex space-x-2",children:(0,d.jsx)(i.$,{type:"submit",disabled:n||6!==l.length,className:"flex-1",children:n?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(F.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(G.A,{className:"mr-2 h-4 w-4"}),"Log In"]})})}),(0,d.jsx)("div",{className:"flex justify-center items-center text-sm",children:(0,d.jsx)(i.$,{type:"button",variant:"ghost",onClick:y,disabled:n,className:"text-muted-foreground hover:text-foreground",children:"â† Change Email"})})]}),(0,d.jsxs)("div",{className:"mt-4 text-sm text-muted-foreground",children:[(0,d.jsxs)("p",{children:["\uD83D\uDCE7 ",(0,d.jsx)("strong",{children:"Didn't receive the code?"})]}),(0,d.jsx)("p",{children:"Check your spam folder. The code expires in 10 minutes."}),s&&(0,d.jsxs)("p",{className:"mt-2",children:["Expires at: ",s.toLocaleTimeString()]})]})]})]})}var J=c(51215),K=c.n(J);function L(){(0,h.usePathname)();let a=(0,h.useRouter)(),[b,c]=(0,e.useState)(!1),[f,A]=(0,e.useState)(null),[B,C]=(0,e.useState)(!1),[D,E]=(0,e.useState)(!1),[F,G]=(0,e.useState)(!1),[H,J]=(0,e.useState)(!0),[L,M]=(0,e.useState)(!1),{toast:N}=(0,u.dj)(),{theme:O,toggleTheme:P}=y(),Q=(0,z.a)(),R=(0,e.useRef)(null),S=(0,e.useRef)(null),T=()=>{F||(G(!0),setTimeout(()=>{E(!1),G(!1)},200))},U=a=>{a.preventDefault(),C(!0)},V=async a=>{a.preventDefault();try{let a=await (0,t.ri)();c(!1),A(null),M(!1),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),localStorage.removeItem("jwt_access_token"),localStorage.removeItem("jwt_refresh_token"),localStorage.removeItem("subscriptionToken"),localStorage.removeItem("subscription_token"),(0,v.q7)(),(0,w.LF)(),x.qQ.clear(),N({title:"Logged out successfully",description:`${a.details.tokensRevoked} tokens revoked, documents cleared`,duration:3e3}),window.location.href="/"}catch(a){console.error("Logout error:",a),c(!1),A(null),M(!1),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),localStorage.removeItem("jwt_access_token"),localStorage.removeItem("jwt_refresh_token"),localStorage.removeItem("subscriptionToken"),localStorage.removeItem("subscription_token"),(0,v.q7)(),(0,w.LF)(),x.qQ.clear(),N({title:"Logged out",description:"Session cleared locally",duration:3e3}),window.location.href="/"}},W=async()=>{C(!1),window.dispatchEvent(new Event("authUpdate")),window.dispatchEvent(new CustomEvent("authStateChanged")),N({title:"Login successful",description:"Welcome back!",duration:3e3})};return(0,d.jsxs)("header",{id:"navigation",role:"banner",className:`
        ${Q?"bg-white/95 dark:bg-slate-900/95 backdrop-blur-lg border-b-0 shadow-sm":"bg-white dark:bg-slate-900 border-b border-teal-200 dark:border-slate-700"}
        flex-shrink-0 z-50 transition-all duration-300
      `,style:Q?{paddingTop:"var(--app-safe-area-top)",paddingLeft:"var(--app-safe-area-left)",paddingRight:"var(--app-safe-area-right)"}:{},children:[(0,d.jsxs)("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[(0,d.jsxs)("div",{className:`flex justify-between items-center ${Q?"h-14":"h-16"}`,children:[(0,d.jsx)(g(),{href:"/","aria-label":"ReadMyFinePrint - Go to homepage",children:(0,d.jsxs)("div",{className:"flex items-center space-x-3 cursor-pointer group",children:[(0,d.jsx)("div",{className:`${Q?"p-1":"p-1.5"} bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl shadow-sm group-hover:shadow-md transition-all duration-200 group-active:scale-95`,children:(0,d.jsx)("img",{src:"/og-image.png",alt:"ReadMyFinePrint Logo",className:`${Q?"w-8 h-8":"w-10 h-10"} object-contain rounded-lg`})}),(0,d.jsx)("h1",{className:"text-3xl font-black bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent hidden md:block tracking-tight",children:"RMFP"}),Q&&(0,d.jsx)("h1",{className:"text-2xl font-black bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent tracking-tight",children:"RMFP"})]})}),(0,d.jsxs)("nav",{className:"hidden md:flex items-center space-x-6",role:"navigation","aria-label":"Main navigation",children:[(0,d.jsx)(g(),{href:"/subscription?tab=plans",children:(0,d.jsxs)(i.$,{variant:"ghost",size:"sm",className:"mr-2","aria-label":"View subscription plans",onClick:()=>{a.push("/subscription?tab=plans")},children:[(0,d.jsx)(j.A,{className:"w-4 h-4 mr-2 text-yellow-600 dark:text-yellow-400","aria-hidden":"true"}),"Plans"]})}),(0,d.jsx)(g(),{href:"/trust",children:(0,d.jsxs)(i.$,{variant:"ghost",size:"sm",className:"mr-2","aria-label":"Trust and security information",children:[(0,d.jsx)(k.A,{className:"w-4 h-4 mr-2 text-green-600 dark:text-green-400","aria-hidden":"true"}),"Trust"]})}),(0,d.jsx)(g(),{href:"/blog",children:(0,d.jsxs)(i.$,{variant:"ghost",size:"sm",className:"mr-2","aria-label":"Legal insights and contract law blog",children:[(0,d.jsx)(l.A,{className:"w-4 h-4 mr-2 text-purple-600 dark:text-purple-400","aria-hidden":"true"}),"Blog"]})}),L&&(0,d.jsx)(g(),{href:"/admin",children:(0,d.jsxs)(i.$,{variant:"ghost",size:"sm",className:"mr-2","aria-label":"Admin Dashboard",children:[(0,d.jsx)(m.A,{className:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400","aria-hidden":"true"}),"Admin"]})}),H?(0,d.jsxs)(i.$,{variant:"outline",size:"sm",className:"mr-2",disabled:!0,"aria-label":"Checking login status",children:[(0,d.jsx)("div",{className:"w-4 h-4 mr-2 border border-gray-400 dark:border-gray-500 border-t-transparent rounded-full animate-spin"}),"Loading..."]}):b?(0,d.jsxs)(i.$,{variant:"outline",size:"sm",className:"mr-2","aria-label":"Logout",onClick:V,children:[(0,d.jsx)(n.A,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),"Logout"]}):(0,d.jsx)(i.$,{variant:"default",size:"sm",className:"mr-2 bg-blue-600 hover:bg-blue-700 text-white","aria-label":"Login or Subscribe",onClick:U,children:"Login / Subscribe"}),(0,d.jsx)(g(),{href:"/donate",children:(0,d.jsxs)(i.$,{variant:"outline",size:"sm",className:"mr-2","aria-label":"Support us with a donation",children:[(0,d.jsx)(o.A,{className:"w-4 h-4 mr-2 text-red-500","aria-hidden":"true"}),"Donate"]})}),(0,d.jsxs)(i.$,{onClick:P,variant:"ghost",size:"sm",className:"mr-2","aria-label":`Switch to ${"light"===O?"dark":"light"} theme`,"aria-pressed":"dark"===O,children:["light"===O?(0,d.jsx)(p.A,{className:"w-4 h-4","aria-hidden":"true"}):(0,d.jsx)(q.A,{className:"w-4 h-4","aria-hidden":"true"}),(0,d.jsx)("span",{className:"sr-only",children:"light"===O?"Switch to dark theme":"Switch to light theme"})]})]}),(0,d.jsx)("nav",{className:"md:hidden flex items-center space-x-2",role:"navigation","aria-label":"Mobile navigation",children:(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[H?(0,d.jsx)(i.$,{variant:"outline",size:"sm",className:"h-9 px-3 text-xs transition-all duration-200",disabled:!0,"aria-label":"Checking login status",children:(0,d.jsx)("div",{className:"w-3 h-3 mr-1 border border-gray-400 dark:border-gray-500 border-t-transparent rounded-full animate-spin"})}):b?(0,d.jsxs)(i.$,{variant:"outline",size:"sm",className:"h-9 px-3 text-xs transition-all duration-200 active:scale-95 touch-manipulation","aria-label":"Logout",onClick:V,onTouchStart:()=>{},children:[(0,d.jsx)(n.A,{className:"w-3 h-3 mr-1","aria-hidden":"true"}),"Logout"]}):(0,d.jsx)(i.$,{variant:"default",size:"sm",className:"h-9 px-3 text-xs bg-blue-600 hover:bg-blue-700 text-white transition-all duration-200 active:scale-95 touch-manipulation","aria-label":"Login or Subscribe",onClick:U,onTouchStart:()=>{},children:"Login"}),(0,d.jsx)(i.$,{ref:S,variant:"ghost",size:"sm",className:"h-9 w-9 p-0 transition-all duration-200 active:scale-95 touch-manipulation","aria-label":D?"Close menu":"Open menu",onClick:()=>{D?T():E(!0)},onTouchStart:()=>{},children:D?(0,d.jsx)(r.A,{className:"w-5 h-5","aria-hidden":"true"}):(0,d.jsx)(s.A,{className:"w-5 h-5","aria-hidden":"true"})})]})})]}),D&&(0,d.jsx)("div",{ref:R,className:`md:hidden bg-white/95 dark:bg-slate-900/95 backdrop-blur-lg border-t border-gray-200 dark:border-gray-700 shadow-lg ${F?"mobile-menu-exit":"mobile-menu-enter"}`,style:{paddingLeft:"var(--app-safe-area-left)",paddingRight:"var(--app-safe-area-right)"},children:(0,d.jsxs)("div",{className:"px-4 py-3 space-y-2 mobile-scroll-container",children:[(0,d.jsx)(g(),{href:"/subscription?tab=plans",children:(0,d.jsxs)(i.$,{variant:"ghost",size:"sm",className:"w-full justify-start h-10 transition-all duration-200 active:scale-95 touch-manipulation","aria-label":"View subscription plans",onClick:T,onTouchStart:()=>{},children:[(0,d.jsx)(j.A,{className:"w-4 h-4 mr-3 text-yellow-600 dark:text-yellow-400","aria-hidden":"true"}),"Plans"]})}),(0,d.jsx)(g(),{href:"/trust",children:(0,d.jsxs)(i.$,{variant:"ghost",size:"sm",className:"w-full justify-start h-10 transition-all duration-200 active:scale-95 touch-manipulation","aria-label":"Trust and security information",onClick:T,onTouchStart:()=>{},children:[(0,d.jsx)(k.A,{className:"w-4 h-4 mr-3 text-green-600 dark:text-green-400","aria-hidden":"true"}),"Trust"]})}),(0,d.jsx)(g(),{href:"/blog",children:(0,d.jsxs)(i.$,{variant:"ghost",size:"sm",className:"w-full justify-start h-10 transition-all duration-200 active:scale-95 touch-manipulation","aria-label":"Legal insights and contract law blog",onClick:T,onTouchStart:()=>{},children:[(0,d.jsx)(l.A,{className:"w-4 h-4 mr-3 text-purple-600 dark:text-purple-400","aria-hidden":"true"}),"Blog"]})}),L&&(0,d.jsx)(g(),{href:"/admin",children:(0,d.jsxs)(i.$,{variant:"ghost",size:"sm",className:"w-full justify-start h-10 transition-all duration-200 active:scale-95 touch-manipulation","aria-label":"Admin Dashboard",onClick:T,onTouchStart:()=>{},children:[(0,d.jsx)(m.A,{className:"w-4 h-4 mr-3 text-blue-600 dark:text-blue-400","aria-hidden":"true"}),"Admin"]})}),(0,d.jsx)(g(),{href:"/donate",children:(0,d.jsxs)(i.$,{variant:"ghost",size:"sm",className:"w-full justify-start h-10 transition-all duration-200 active:scale-95 touch-manipulation","aria-label":"Support us with a donation",onClick:T,onTouchStart:()=>{},children:[(0,d.jsx)(o.A,{className:"w-4 h-4 mr-3 text-red-500 dark:text-red-400","aria-hidden":"true"}),"Donate"]})}),(0,d.jsxs)(i.$,{onClick:()=>{P(),T()},variant:"ghost",size:"sm",className:"w-full justify-start h-10 transition-all duration-200 active:scale-95 touch-manipulation","aria-label":`Switch to ${"light"===O?"dark":"light"} theme`,"aria-pressed":"dark"===O,onTouchStart:()=>{},children:["light"===O?(0,d.jsx)(p.A,{className:"w-4 h-4 mr-3","aria-hidden":"true"}):(0,d.jsx)(q.A,{className:"w-4 h-4 mr-3","aria-hidden":"true"}),"light"===O?"Dark Mode":"Light Mode"]})]})})]}),B&&(0,d.jsx)(d.Fragment,{children:document.body&&K().createPortal((0,d.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9999] flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"login-modal-title",children:[(0,d.jsx)("button",{className:"absolute inset-0 w-full h-full cursor-default",onClick:()=>C(!1),onKeyDown:a=>"Escape"===a.key&&C(!1),"aria-label":"Close modal",tabIndex:-1}),(0,d.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full shadow-2xl relative z-10",role:"document",children:(0,d.jsx)(I,{onSuccess:W,onCancel:()=>C(!1)})})]}),document.body)})]})}},24742:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,4536,23))},24934:(a,b,c)=>{"use strict";c.d(b,{$:()=>j});var d=c(60687),e=c(43210),f=c(8730),g=c(24224),h=c(96241);let i=(0,g.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2 min-w-[2.5rem]",sm:"h-9 rounded-md px-3 min-w-[2.25rem]",lg:"h-11 rounded-md px-8 min-w-[2.75rem]",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),j=e.forwardRef(({className:a,variant:b,size:c,asChild:e=!1,loading:g=!1,disabled:j,children:k,...l},m)=>{let n=e?f.DX:"button",o=j||g;return(0,d.jsxs)(n,{className:(0,h.cn)(i({variant:b,size:c,className:a})),ref:m,disabled:o,"aria-disabled":o,"aria-busy":g,tabIndex:o?-1:0,...l,children:[g&&(0,d.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,d.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),k,g&&(0,d.jsx)("span",{className:"sr-only",children:"Loading..."})]})});j.displayName="Button"},27182:(a,b,c)=>{"use strict";c.d(b,{Header:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call Header() from the server but Header is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/workspace/components/Header.tsx","Header")},34338:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,25227,23)),Promise.resolve().then(c.t.bind(c,86346,23)),Promise.resolve().then(c.t.bind(c,27924,23)),Promise.resolve().then(c.t.bind(c,40099,23)),Promise.resolve().then(c.t.bind(c,38243,23)),Promise.resolve().then(c.t.bind(c,28827,23)),Promise.resolve().then(c.t.bind(c,62763,23)),Promise.resolve().then(c.t.bind(c,97173,23)),Promise.resolve().then(c.bind(c,25587))},35201:(a,b,c)=>{"use strict";c.d(b,{bl:()=>i,lo:()=>g,q7:()=>j});var d=c(81185);let e=null;function f(){return crypto.getRandomValues(new Uint8Array(16)).reduce((a,b)=>a+b.toString(16).padStart(2,"0"),"")}function g(){return e||(e=sessionStorage.getItem("app-session-id")||f(),sessionStorage.setItem("app-session-id",e)),e}function h(a){e=a,sessionStorage.setItem("app-session-id",a)}async function i(a,b={}){let c=g();if(!["GET","HEAD","OPTIONS"].includes((b.method||"GET").toUpperCase())){let e={...b.headers||{},"x-session-id":c},f=localStorage.getItem("jwt_access_token");f||(f=sessionStorage.getItem("jwt_access_token")),f&&(e.Authorization=`Bearer ${f}`);let g=await (0,d.fd)(a,{...b,headers:e});if(401===g.status&&f&&localStorage.getItem("jwt_refresh_token"))try{let c=await fetch("/api/auth/refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:localStorage.getItem("jwt_refresh_token")}),credentials:"include"});if(c.ok){let f=c.headers.get("content-type");if(f&&f.includes("application/json")){let{tokens:f}=await c.json();localStorage.setItem("jwt_access_token",f.access),localStorage.setItem("jwt_refresh_token",f.refresh),sessionStorage.setItem("jwt_access_token",f.access),sessionStorage.setItem("jwt_refresh_token",f.refresh);let g={...e,Authorization:`Bearer ${f.access}`};return(0,d.fd)(a,{...b,headers:g})}}}catch(a){console.log("Token refresh failed for CSRF request:",a instanceof Error?a.message:"Unknown error"),localStorage.removeItem("jwt_access_token"),localStorage.removeItem("jwt_refresh_token")}return g}let e={...b.headers||{},"x-session-id":c},f=localStorage.getItem("jwt_access_token");f&&(e.Authorization=`Bearer ${f}`);let j=await fetch(a,{...b,headers:e,credentials:"include"});if(401===j.status&&f&&localStorage.getItem("jwt_refresh_token"))try{let c=await fetch("/api/auth/refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:localStorage.getItem("jwt_refresh_token")}),credentials:"include"});if(c.ok){let d=c.headers.get("content-type");if(d&&d.includes("application/json")){let{tokens:d}=await c.json();localStorage.setItem("jwt_access_token",d.access),localStorage.setItem("jwt_refresh_token",d.refresh);let f={...e,Authorization:`Bearer ${d.access}`};return fetch(a,{...b,headers:f,credentials:"include"})}console.warn("Refresh endpoint returned non-JSON response")}else console.log("Token refresh failed with status:",c.status)}catch(a){console.log("Token refresh failed:",a instanceof Error?a.message:"Unknown error"),localStorage.removeItem("jwt_access_token"),localStorage.removeItem("jwt_refresh_token")}else j.status;let k=j.headers.get("x-session-id");return k&&k!==c&&h(k),j}function j(){e=null,sessionStorage.removeItem("app-session-id"),localStorage.removeItem("jwt_access_token"),localStorage.removeItem("jwt_refresh_token"),sessionStorage.removeItem("jwt_access_token"),sessionStorage.removeItem("jwt_refresh_token"),sessionStorage.removeItem("readmyfineprint-consent-id"),sessionStorage.removeItem("readmyfineprint-verification-token"),sessionStorage.clear(),localStorage.removeItem("subscriptionToken"),localStorage.removeItem("subscription_token"),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),h(f())}},36920:(a,b,c)=>{"use strict";c.d(b,{Footer:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call Footer() from the server but Footer is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/workspace/components/Footer.tsx","Footer")},42291:(a,b,c)=>{"use strict";function d(a){return 403===a.status}function e(){window.dispatchEvent(new CustomEvent("consentRequired",{detail:{reason:"API request blocked - consent required"}}))}async function f(a){if(!a.ok){let b=await a.text()||a.statusText;if(d(a))try{let a=JSON.parse(b);"CONSENT_REQUIRED"===a.code&&e()}catch(a){e()}throw Error(`${a.status}: ${b}`)}}c.d(b,{qQ:()=>g});let g=new(c(92314)).E({defaultOptions:{queries:{queryFn:(({on401:a})=>async({queryKey:b})=>{let c=await fetch(b[0],{headers:{"x-session-id":function(){let a=sessionStorage.getItem("app-session-id");return a||(a=crypto.getRandomValues(new Uint8Array(16)).reduce((a,b)=>a+b.toString(16).padStart(2,"0"),""),sessionStorage.setItem("app-session-id",a),console.log("Generated new session ID:",a)),a}()},credentials:"include"}),g=c.headers.get("x-session-id");if(g&&function(a){let b=sessionStorage.getItem("app-session-id");a&&a!==b&&(sessionStorage.setItem("app-session-id",a),console.log("Updated session ID:",a))}(g),"returnNull"===a&&401===c.status)return null;if(d(c)){let a=await c.text();try{let b=JSON.parse(a);"CONSENT_REQUIRED"===b.code&&e()}catch(a){e()}throw Error(`HTTP ${c.status}: ${a}`)}return await f(c),await c.json()})({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,refetchIntervalInBackground:!1,notifyOnChangeProps:["data","error"],staleTime:1/0,gcTime:864e5,retry:!1,structuralSharing:!1},mutations:{retry:!1,onError:a=>{a?.message?.includes("403")&&a?.message?.includes("CONSENT_REQUIRED")&&(console.log("Mutation error indicates consent required, triggering consent modal"),e())}}}})},42894:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,85814,23))},51358:(a,b,c)=>{"use strict";c.d(b,{Wu:()=>j,ZB:()=>i,Zp:()=>g,aR:()=>h});var d=c(37413),e=c(61120),f=c(66819);let g=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...b}));g.displayName="Card";let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",a),...b}));h.displayName="CardHeader";let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("text-2xl font-semibold leading-none tracking-tight",a),...b}));i.displayName="CardTitle",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("text-sm text-muted-foreground",a),...b})).displayName="CardDescription";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("p-6 pt-0",a),...b}));j.displayName="CardContent",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex items-center p-6 pt-0",a),...b})).displayName="CardFooter"},53310:(a,b,c)=>{"use strict";c.d(b,{ThemeProvider:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call ThemeProvider() from the server but ThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/workspace/components/providers/ThemeProvider.tsx","ThemeProvider")},55192:(a,b,c)=>{"use strict";c.d(b,{BT:()=>j,Wu:()=>k,ZB:()=>i,Zp:()=>g,aR:()=>h,wL:()=>l});var d=c(60687),e=c(43210),f=c(96241);let g=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...b}));g.displayName="Card";let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",a),...b}));h.displayName="CardHeader";let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("text-2xl font-semibold leading-none tracking-tight",a),...b}));i.displayName="CardTitle";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("text-sm text-muted-foreground",a),...b}));j.displayName="CardDescription";let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("p-6 pt-0",a),...b}));k.displayName="CardContent";let l=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex items-center p-6 pt-0",a),...b}));l.displayName="CardFooter"},56032:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>p});var d=c(37413),e=c(51358),f=c(27467),g=c(18898),h=c(61120),i=c(70403),j=c(50662),k=c(66819);let l=(0,j.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2 min-w-[2.5rem]",sm:"h-9 rounded-md px-3 min-w-[2.25rem]",lg:"h-11 rounded-md px-8 min-w-[2.75rem]",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=h.forwardRef(({className:a,variant:b,size:c,asChild:e=!1,loading:f=!1,disabled:g,children:h,...j},m)=>{let n=e?i.DX:"button",o=g||f;return(0,d.jsxs)(n,{className:(0,k.cn)(l({variant:b,size:c,className:a})),ref:m,disabled:o,"aria-disabled":o,"aria-busy":f,tabIndex:o?-1:0,...j,children:[f&&(0,d.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,d.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h,f&&(0,d.jsx)("span",{className:"sr-only",children:"Loading..."})]})});m.displayName="Button";var n=c(4536),o=c.n(n);function p(){return(0,d.jsx)("div",{className:"h-full bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,d.jsx)(e.Zp,{className:"w-full max-w-md mx-4 card-interactive",children:(0,d.jsxs)(e.Wu,{className:"pt-6 text-center",children:[(0,d.jsx)("div",{className:"flex justify-center mb-4",children:(0,d.jsx)(f.A,{className:"h-16 w-16 text-red-500"})}),(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"404 - Page Not Found"}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"The page you're looking for doesn't exist or has been moved."}),(0,d.jsx)(o(),{href:"/",children:(0,d.jsxs)(m,{className:"w-full",children:[(0,d.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"Return Home"]})})]})})})}},58841:(a,b,c)=>{Promise.resolve().then(c.bind(c,36920)),Promise.resolve().then(c.bind(c,27182)),Promise.resolve().then(c.bind(c,53310))},61037:(a,b,c)=>{"use strict";c.d(b,{a:()=>e});var d=c(43210);function e(){let[a,b]=d.useState(void 0);return d.useEffect(()=>{let a=window.matchMedia("(max-width: 767px)"),c=()=>{b(window.innerWidth<768)};return a.addEventListener("change",c),b(window.innerWidth<768),()=>a.removeEventListener("change",c)},[]),!!a}},64626:(a,b,c)=>{"use strict";c.d(b,{Footer:()=>l});var d=c(60687),e=c(85814),f=c.n(e),g=c(47260),h=c(67760),i=c(81620),j=c(28947),k=c(71702);function l(){let{toast:a}=(0,k.dj)(),b=async()=>{let b="https://readmyfineprint.com/";try{await navigator.clipboard.writeText(b),a({title:"Link copied!",description:"Website URL has been copied to your clipboard.",duration:3e3})}catch{let c=document.createElement("textarea");c.value=b,document.body.appendChild(c),c.select(),document.execCommand("copy"),document.body.removeChild(c),a({title:"Link copied!",description:"Website URL has been copied to your clipboard.",duration:3e3})}};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("footer",{id:"footer",role:"contentinfo",className:"bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 z-40 backdrop-blur-sm bg-opacity-95 dark:bg-opacity-95 transition-all duration-300 ease-in-out flex-shrink-0","aria-label":"Site footer",children:[(0,d.jsx)("div",{className:"md:hidden px-3 py-2 sm:px-4",children:(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:["\xa9 ",new Date().getFullYear()," ReadMyFinePrint"]}),(0,d.jsxs)("div",{className:"flex flex-wrap justify-center items-center gap-x-3 gap-y-1 text-xs",children:[(0,d.jsx)(f(),{href:"/privacy",className:"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors py-1.5 px-1 min-h-[44px] flex items-center touch-manipulation","aria-label":"Privacy Policy",children:"Privacy"}),(0,d.jsx)(f(),{href:"/terms",className:"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors py-1.5 px-1 min-h-[44px] flex items-center touch-manipulation","aria-label":"Terms of Service",children:"Terms"}),(0,d.jsxs)(f(),{href:"/cookies",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 flex items-center gap-1 transition-colors py-1.5 px-1 min-h-[44px] touch-manipulation","aria-label":"Cookie Policy",children:[(0,d.jsx)(g.A,{className:"w-3 h-3","aria-hidden":"true"}),"Cookies"]}),(0,d.jsxs)(f(),{href:"/donate",className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 flex items-center gap-1 transition-colors py-1.5 px-1 min-h-[44px] touch-manipulation","aria-label":"Support us with a donation",children:[(0,d.jsx)(h.A,{className:"w-3 h-3","aria-hidden":"true"}),"Donate"]}),(0,d.jsxs)("button",{onClick:b,className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 flex items-center gap-1 transition-colors py-1.5 px-1 min-h-[44px] touch-manipulation","aria-label":"Share this website",onTouchStart:()=>{},children:[(0,d.jsx)(i.A,{className:"w-3 h-3","aria-hidden":"true"}),"Share"]}),(0,d.jsx)("a",{href:"mailto:admin@readmyfineprint.com",className:"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors py-1.5 px-1 min-h-[44px] flex items-center touch-manipulation","aria-label":"Contact us via email",children:"Contact"})]})]})}),(0,d.jsx)("div",{className:"hidden md:block max-w-7xl mx-auto px-4 py-2 lg:py-1",children:(0,d.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-2 md:gap-0",children:[(0,d.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-300 text-center md:text-left",children:["\xa9 ",new Date().getFullYear()," ReadMyFinePrint"]}),(0,d.jsxs)("div",{className:"flex flex-wrap justify-center md:justify-end items-center gap-x-4 gap-y-1 text-xs",children:[(0,d.jsx)(f(),{href:"/privacy",className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-all duration-300 ease-in-out py-1.5 px-1 touch-manipulation","aria-label":"Privacy Policy",children:"Privacy Policy"}),(0,d.jsx)(f(),{href:"/terms",className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-all duration-300 ease-in-out py-1.5 px-1 touch-manipulation","aria-label":"Terms of Service",children:"Terms of Service"}),(0,d.jsxs)(f(),{href:"/cookies",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 transition-all duration-300 ease-in-out inline-flex items-center py-1.5 px-1 touch-manipulation","aria-label":"Cookie Policy",children:[(0,d.jsx)(g.A,{className:"w-3 h-3 mr-1","aria-hidden":"true"}),"Cookies"]}),(0,d.jsxs)(f(),{href:"/donate",className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 transition-all duration-300 ease-in-out inline-flex items-center py-1.5 px-1 touch-manipulation","aria-label":"Support us with a donation",children:[(0,d.jsx)(h.A,{className:"w-3 h-3 mr-1","aria-hidden":"true"}),"Donate"]}),(0,d.jsxs)(f(),{href:"/roadmap",className:"text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 transition-all duration-300 ease-in-out inline-flex items-center py-1.5 px-1 touch-manipulation","aria-label":"View our roadmap",children:[(0,d.jsx)(j.A,{className:"w-3 h-3 mr-1","aria-hidden":"true"}),"Roadmap"]}),(0,d.jsxs)("button",{onClick:b,className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-all duration-300 ease-in-out inline-flex items-center py-1.5 px-1 touch-manipulation","aria-label":"Share this website",onTouchStart:()=>{},children:[(0,d.jsx)(i.A,{className:"w-3 h-3 mr-1","aria-hidden":"true"}),"Share"]}),(0,d.jsx)("a",{href:"mailto:admin@readmyfineprint.com",className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-all duration-300 ease-in-out py-1.5 px-1 touch-manipulation","aria-label":"Contact us via email",children:"Contact"})]})]})})]})})}},65882:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,16133,23)),Promise.resolve().then(c.t.bind(c,16444,23)),Promise.resolve().then(c.t.bind(c,16042,23)),Promise.resolve().then(c.t.bind(c,49477,23)),Promise.resolve().then(c.t.bind(c,29345,23)),Promise.resolve().then(c.t.bind(c,12089,23)),Promise.resolve().then(c.t.bind(c,46577,23)),Promise.resolve().then(c.t.bind(c,31307,23)),Promise.resolve().then(c.t.bind(c,14817,23))},66276:(a,b,c)=>{"use strict";c.d(b,{ThemeProvider:()=>f});var d=c(60687);c(43210);var e=c(10218);function f({children:a,defaultTheme:b="system",enableSystem:c=!0,disableTransitionOnChange:f=!1}){return(0,d.jsx)(e.N,{attribute:"class",defaultTheme:b,enableSystem:c,disableTransitionOnChange:f,children:a})}},66819:(a,b,c)=>{"use strict";c.d(b,{cn:()=>f});var d=c(75986),e=c(8974);function f(...a){return(0,e.QP)((0,d.$)(a))}},68988:(a,b,c)=>{"use strict";c.d(b,{p:()=>g});var d=c(60687),e=c(43210),f=c(96241);let g=e.forwardRef(({className:a,type:b,error:c,...e},g)=>(0,d.jsx)("input",{type:b,className:(0,f.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-colors",c&&"border-destructive focus-visible:ring-destructive",a),ref:g,"aria-invalid":c||e["aria-invalid"],...e}));g.displayName="Input"},71702:(a,b,c)=>{"use strict";c.d(b,{dj:()=>l});var d=c(43210);let e=0,f=new Map,g=a=>{if(f.has(a))return;let b=setTimeout(()=>{f.delete(a),j({type:"REMOVE_TOAST",toastId:a})},1e6);f.set(a,b)},h=[],i={toasts:[]};function j(a){i=((a,b)=>{switch(b.type){case"ADD_TOAST":return{...a,toasts:[b.toast,...a.toasts].slice(0,1)};case"UPDATE_TOAST":return{...a,toasts:a.toasts.map(a=>a.id===b.toast.id?{...a,...b.toast}:a)};case"DISMISS_TOAST":{let{toastId:c}=b;return c?g(c):a.toasts.forEach(a=>{g(a.id)}),{...a,toasts:a.toasts.map(a=>a.id===c||void 0===c?{...a,open:!1}:a)}}case"REMOVE_TOAST":if(void 0===b.toastId)return{...a,toasts:[]};return{...a,toasts:a.toasts.filter(a=>a.id!==b.toastId)}}})(i,a),h.forEach(a=>{a(i)})}function k({...a}){let b=(e=(e+1)%Number.MAX_SAFE_INTEGER).toString(),c=()=>j({type:"DISMISS_TOAST",toastId:b});return j({type:"ADD_TOAST",toast:{...a,id:b,open:!0,onOpenChange:a=>{a||c()}}}),{id:b,dismiss:c,update:a=>j({type:"UPDATE_TOAST",toast:{...a,id:b}})}}function l(){let[a,b]=d.useState(i);return d.useEffect(()=>(h.push(b),()=>{let a=h.indexOf(b);a>-1&&h.splice(a,1)}),[a]),{...a,toast:k,dismiss:a=>j({type:"DISMISS_TOAST",toastId:a})}}},81185:(a,b,c)=>{"use strict";c.d(b,{LF:()=>g,fd:()=>f});class d{async getToken(a){if(this.token&&Date.now()<this.tokenExpiry)return this.token;if(this.fetchPromise)try{return await this.fetchPromise}catch(a){throw this.fetchPromise=null,a}this.fetchPromise=this.fetchTokenFromServer(a);try{let a=await this.fetchPromise;return this.fetchPromise=null,a}catch(a){throw this.fetchPromise=null,a}}async fetchTokenFromServer(a){try{let b=await fetch("/api/csrf-token",{method:"GET",headers:{"Content-Type":"application/json","x-session-id":a},credentials:"include"});if(!b.ok)throw Error(`Failed to fetch CSRF token: ${b.status}`);let c=await b.json();if(!c.csrfToken)throw Error("No CSRF token received from server");return this.token=c.csrfToken,this.tokenExpiry=Date.now()+this.TOKEN_VALIDITY,c.csrfToken}catch(a){throw a}}async addTokenToHeaders(a,b={}){try{let c=await this.getToken(a);return{...b,"x-csrf-token":c}}catch(a){return b}}async fetch(a,b={},c){if(["GET","HEAD","OPTIONS"].includes((b.method||"GET").toUpperCase()))return fetch(a,{...b,credentials:"include"});try{let d=await this.addTokenToHeaders(c,b.headers||{}),e=await fetch(a,{...b,headers:d,credentials:"include"});if(403===e.status){let d=await e.text();if(d.includes("CSRF")||d.includes("csrf")){this.clearToken();let d=await this.addTokenToHeaders(c,b.headers||{});return fetch(a,{...b,headers:d,credentials:"include"})}}return e}catch(a){throw a}}clearToken(){this.token=null,this.tokenExpiry=0,this.fetchPromise=null}hasValidToken(){return null!==this.token&&Date.now()<this.tokenExpiry}getCurrentToken(){return this.token}constructor(){this.token=null,this.tokenExpiry=0,this.TOKEN_VALIDITY=9e6,this.fetchPromise=null}}let e=new d;async function f(a,b={}){let c=sessionStorage.getItem("app-session-id")||"anonymous";return e.fetch(a,b,c)}function g(){e.clearToken()}},82704:()=>{},95289:(a,b,c)=>{Promise.resolve().then(c.bind(c,64626)),Promise.resolve().then(c.bind(c,23850)),Promise.resolve().then(c.bind(c,66276))},96241:(a,b,c)=>{"use strict";c.d(b,{cn:()=>f});var d=c(49384),e=c(82348);function f(...a){return(0,e.QP)((0,d.$)(a))}}};