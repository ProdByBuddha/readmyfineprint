# ===================================
# ReadMyFinePrint Environment Variables
# ===================================

# ===================================
# Database Configuration
# ===================================
# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://user:password@localhost:5432/readmyfineprint

# ===================================
# Email Service Configuration
# ===================================
# Priority: SMTP (iCloud recommended) â†’ SendGrid
# The system will automatically detect and use the first available provider.

# Option 1: iCloud SMTP (Recommended for Production)
# ===================================
# iCloud SMTP provides reliable email delivery for most use cases.
# Requirements:
#   - iCloud account with 2-Factor Authentication enabled
#   - App-Specific Password generated at appleid.apple.com
#   - Uses STARTTLS on port 587
#   - Works with any @domain.com sender address

SMTP_HOST=smtp.mail.me.com
SMTP_PORT=587
SMTP_USER=your-apple-id@icloud.com
SMTP_PASS=your-app-specific-password

# Sender address for all outgoing emails
EMAIL_FROM=noreply@readmyfineprint.com

# Option 2: SendGrid (Alternative for high-volume)
# ===================================
# Uncomment and use for high-volume email sending
# SENDGRID_API_KEY=your_sendgrid_api_key_here

# Option 3: Other SMTP Providers
# ===================================
# Gmail SMTP (development only, requires App Password):
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-gmail-app-password

# Generic SMTP:
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your_smtp_username
# SMTP_PASS=your_smtp_password

# Legacy fallback variables (deprecated, use EMAIL_FROM instead)
# SECURITY_EMAIL_FROM=your-email@domain.com
# FROM_EMAIL=noreply@yourdomain.com

# ===================================
# Authentication & Security
# ===================================
# Secret key for JWT token signing (use a long random string)
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production

# Session secret for cookie signing
SESSION_SECRET=your_session_secret_change_this_in_production

# ===================================
# Payment Processing (Stripe)
# ===================================
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ===================================
# AI Services
# ===================================
# OpenAI API for document analysis
OPENAI_API_KEY=sk-your_openai_api_key

# ===================================
# Application Settings
# ===================================
# Port for the server to listen on
PORT=5000

# Node environment (development, production, test)
NODE_ENV=development

# Public URL of the application (for emails and redirects)
PUBLIC_URL=http://localhost:3000

# ===================================
# Rate Limiting & Security
# ===================================
# Maximum requests per window (per IP)
RATE_LIMIT_MAX=100

# Rate limit window in milliseconds (default: 15 minutes)
RATE_LIMIT_WINDOW=900000

# ===================================
# File Upload Configuration
# ===================================
# Maximum file upload size in bytes (default: 10MB)
MAX_FILE_SIZE=10485760

# Allowed file types (comma-separated)
ALLOWED_FILE_TYPES=pdf,doc,docx,txt

# ===================================
# Logging & Monitoring
# ===================================
# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Enable security event logging
SECURITY_LOGGING_ENABLED=true

# ===================================
# Backup Configuration
# ===================================
# Backup directory path (relative or absolute)
BACKUP_DIR=./backups

# Backup retention period in days
BACKUP_RETENTION_DAYS=30

# ===================================
# CORS Configuration
# ===================================
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# ===================================
# Feature Flags
# ===================================
# Enable disaster recovery monitoring
DISASTER_RECOVERY_ENABLED=true

# Enable automatic backups
AUTO_BACKUP_ENABLED=true

# Enable email notifications for admin alerts
ADMIN_EMAIL_ALERTS_ENABLED=true

# ===================================
# Admin Configuration
# ===================================
# Admin email for system notifications
ADMIN_EMAIL=admin@readmyfineprint.com

# ===================================
# External Service Timeouts (milliseconds)
# ===================================
# API request timeout
API_TIMEOUT=30000

# Database connection timeout
DB_TIMEOUT=5000

# ===================================
# Production-Specific Settings
# ===================================
# In production, ensure the following are set:
# - Use strong, random values for all secrets
# - Set NODE_ENV=production
# - Use production API keys for Stripe, OpenAI, SendGrid
# - Set PUBLIC_URL to your actual domain
# - Enable HTTPS and set secure cookie flags
# - Configure proper CORS_ORIGINS